{"version":3,"file":"vs/base/common/marked/simpleMarkedWorker.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/base/common/marked/simpleMarkedWorker.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;IAEhG,YAAY,CAAC;IAMb,cAAc,IAAI,EAAE,KAAK,EAAE,IAAI;QAC9B,MAAM,CAAC,+BAA0B,IAAI,oBAAY,KAAK,IAAI,IAAI,YAAK,IAAI,SAAM,CAAC;IAC/E,CAAC;IAGY,aAAK,GAAG;QAEpB,cAAc,YAAC,IAAkB,EAAE,OAAiB,EAAE,MAAgB,EAAE,QAAkB,EAAE,IAA6C;YAExI,sGAAsG;YACtG,mHAAmH;YACnH,IAAI;YAEJ,IAAM,QAAQ,GAAG,IAAI,eAAM,CAAC,QAAQ,EAAE,CAAC;YACvC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;YAErB,eAAM,CAAC,IAAI,CAAC,MAAM,EAAE;gBACnB,GAAG,EAAE,IAAI;gBACT,QAAQ,EAAE,IAAI;gBACd,UAAA,QAAQ;aAER,EAAE,UAAS,GAAG,EAAE,IAAI;gBACpB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACT,MAAM,CAAC,GAAG,CAAC,CAAC;gBACb,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,OAAO,CAAC,IAAI,CAAC,CAAC;gBACf,CAAC;YACF,CAAC,CAAC,CAAC;QACJ,CAAC;KACD,CAAC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport {WorkerServer} from 'vs/base/common/worker/workerServer';\nimport {marked} from 'vs/base/common/marked/marked';\n\n\nfunction link(href, title, text): string {\n\treturn `<a href=\"#\" data-href=\"${href}\" title=\"${title || text}\">${text}</a>`;\n}\n\n\nexport const value = {\n\n\tmarkdownToHtml(main: WorkerServer, resolve: Function, reject: Function, progress: Function, data: { source: string; highlight: boolean; }): void {\n\n\t\t// function highlight(code: string, lang: string, callback?: (error: Error, result: string) => void) {\n\t\t// \tmain.request('highlight', { code, lang }).then(value => callback(void 0, value), err => callback(err, void 0));\n\t\t// }\n\n\t\tconst renderer = new marked.Renderer();\n\t\trenderer.link = link;\n\n\t\tmarked(data.source, {\n\t\t\tgfm: true,\n\t\t\tsanitize: true,\n\t\t\trenderer,\n\t\t\t// highlight\n\t\t}, function(err, html) {\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\tresolve(html);\n\t\t\t}\n\t\t});\n\t}\n};\n"]}