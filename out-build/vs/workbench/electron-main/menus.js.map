{"version":3,"sources":["vs/workbench/electron-main/menus.ts"],"names":[],"mappings":"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","file":"vs/workbench/electron-main/menus.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n'use strict';\n\nimport {ipcMain as ipc, app, shell, dialog, Menu, MenuItem} from 'electron';\n\nimport nls = require('vs/nls');\nimport platform = require('vs/base/common/platform');\nimport arrays = require('vs/base/common/arrays');\nimport windows = require('vs/workbench/electron-main/windows');\nimport window = require('vs/workbench/electron-main/window');\nimport env = require('vs/workbench/electron-main/env');\nimport storage = require('vs/workbench/electron-main/storage');\nimport um = require('vs/workbench/electron-main/update-manager');\nimport {Keybinding} from 'vs/base/common/keyCodes';\n\nlet UpdateManager = um.Instance;\n\ninterface IResolvedKeybinding {\n\tid: string;\n\tbinding: number;\n}\n\nexport class VSCodeMenu {\n\n\tprivate static lastKnownKeybindingsMapStorageKey = 'lastKnownKeybindings';\n\n\tprivate static MAX_RECENT_ENTRIES = 10;\n\n\tprivate isQuitting: boolean;\n\tprivate appMenuInstalled: boolean;\n\n\tprivate actionIdKeybindingRequests: string[];\n\tprivate mapLastKnownKeybindingToActionId: { [id: string]: string; };\n\tprivate mapResolvedKeybindingToActionId: { [id: string]: string; };\n\tprivate keybindingsResolved: boolean;\n\n\tconstructor() {\n\t\tthis.actionIdKeybindingRequests = [];\n\n\t\tthis.mapResolvedKeybindingToActionId = Object.create(null);\n\t\tthis.mapLastKnownKeybindingToActionId = storage.getItem<{ [id: string]: string; }>(VSCodeMenu.lastKnownKeybindingsMapStorageKey) || Object.create(null);\n\t}\n\n\tpublic ready(): void {\n\t\tthis.registerListeners();\n\t\tthis.install();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Keep flag when app quits\n\t\tapp.on('will-quit', () => {\n\t\t\tthis.isQuitting = true;\n\t\t});\n\n\t\t// Listen to \"open\" & \"close\" event from window manager\n\t\twindows.onOpen((paths) => this.onOpen(paths));\n\t\twindows.onClose(_ => this.onClose(windows.manager.getWindowCount()));\n\n\t\t// Resolve keybindings when any first workbench is loaded\n\t\twindows.onReady((win) => this.resolveKeybindings(win));\n\n\t\t// Listen to resolved keybindings\n\t\tipc.on('vscode:keybindingsResolved', (event, rawKeybindings) => {\n\t\t\tlet keybindings: IResolvedKeybinding[] = [];\n\t\t\ttry {\n\t\t\t\tkeybindings = JSON.parse(rawKeybindings);\n\t\t\t} catch (error) {\n\t\t\t\t// Should not happen\n\t\t\t}\n\n\t\t\t// Fill hash map of resolved keybindings\n\t\t\tlet needsMenuUpdate = false;\n\t\t\tkeybindings.forEach((keybinding) => {\n\t\t\t\tlet accelerator = new Keybinding(keybinding.binding)._toElectronAccelerator();\n\t\t\t\tif (accelerator) {\n\t\t\t\t\tthis.mapResolvedKeybindingToActionId[keybinding.id] = accelerator;\n\t\t\t\t\tif (this.mapLastKnownKeybindingToActionId[keybinding.id] !== accelerator) {\n\t\t\t\t\t\tneedsMenuUpdate = true; // we only need to update when something changed!\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// A keybinding might have been unassigned, so we have to account for that too\n\t\t\tif (Object.keys(this.mapLastKnownKeybindingToActionId).length !== Object.keys(this.mapResolvedKeybindingToActionId).length) {\n\t\t\t\tneedsMenuUpdate = true;\n\t\t\t}\n\n\t\t\tif (needsMenuUpdate) {\n\t\t\t\tstorage.setItem(VSCodeMenu.lastKnownKeybindingsMapStorageKey, this.mapResolvedKeybindingToActionId); // keep to restore instantly after restart\n\t\t\t\tthis.mapLastKnownKeybindingToActionId = this.mapResolvedKeybindingToActionId; // update our last known map\n\n\t\t\t\tthis.updateMenu();\n\t\t\t}\n\t\t});\n\n\t\t// Listen to update manager\n\t\tUpdateManager.on('change', () => this.updateMenu());\n\t}\n\n\tprivate resolveKeybindings(win: window.VSCodeWindow): void {\n\t\tif (this.keybindingsResolved) {\n\t\t\treturn; // only resolve once\n\t\t}\n\n\t\tthis.keybindingsResolved = true;\n\n\t\t// Resolve keybindings when workbench window is up\n\t\tif (this.actionIdKeybindingRequests.length) {\n\t\t\twin.send('vscode:resolveKeybindings', JSON.stringify(this.actionIdKeybindingRequests));\n\t\t}\n\t}\n\n\tprivate updateMenu(): void {\n\n\t\t// Due to limitations in Electron, it is not possible to update menu items dynamically. The suggested\n\t\t// workaround from Electron is to set the application menu again.\n\t\t// See also https://github.com/atom/electron/issues/846\n\t\t//\n\t\t// Run delayed to prevent updating menu while it is open\n\t\tif (!this.isQuitting) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.isQuitting) {\n\t\t\t\t\tthis.install();\n\t\t\t\t}\n\t\t\t}, 10 /* delay this because there is an issue with updating a menu when it is open */);\n\t\t}\n\t}\n\n\tprivate onOpen(path: window.IPath): void {\n\t\tthis.addToOpenedPathsList(path.filePath || path.workspacePath, !!path.filePath);\n\t\tthis.updateMenu();\n\t}\n\n\tprivate onClose(remainingWindowCount: number): void {\n\t\tif (remainingWindowCount === 0 && platform.isMacintosh) {\n\t\t\tthis.updateMenu();\n\t\t}\n\t}\n\n\tprivate install(): void {\n\n\t\t// Menus\n\t\tlet menubar = new Menu();\n\n\t\t// Mac: Application\n\t\tlet macApplicationMenuItem: Electron.MenuItem;\n\t\tif (platform.isMacintosh) {\n\t\t\tlet applicationMenu = new Menu();\n\t\t\tmacApplicationMenuItem = new MenuItem({ label: env.product.nameShort, submenu: applicationMenu });\n\t\t\tthis.setMacApplicationMenu(applicationMenu);\n\t\t}\n\n\t\t// File\n\t\tlet fileMenu = new Menu();\n\t\tlet fileMenuItem = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'mFile', comment: ['&& denotes a mnemonic'] }, \"&&File\")), submenu: fileMenu });\n\t\tthis.setFileMenu(fileMenu);\n\n\t\t// Edit\n\t\tlet editMenu = new Menu();\n\t\tlet editMenuItem = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'mEdit', comment: ['&& denotes a mnemonic'] }, \"&&Edit\")), submenu: editMenu });\n\t\tthis.setEditMenu(editMenu);\n\n\t\t// View\n\t\tlet viewMenu = new Menu();\n\t\tlet viewMenuItem = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'mView', comment: ['&& denotes a mnemonic'] }, \"&&View\")), submenu: viewMenu });\n\t\tthis.setViewMenu(viewMenu);\n\n\t\t// Goto\n\t\tlet gotoMenu = new Menu();\n\t\tlet gotoMenuItem = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'mGoto', comment: ['&& denotes a mnemonic'] }, \"&&Goto\")), submenu: gotoMenu });\n\t\tthis.setGotoMenu(gotoMenu);\n\n\t\t// Mac: Window\n\t\tlet macWindowMenuItem: Electron.MenuItem;\n\t\tif (platform.isMacintosh) {\n\t\t\tlet windowMenu = new Menu();\n\t\t\tmacWindowMenuItem = new MenuItem({ label: mnemonicLabel(nls.localize('mWindow', \"Window\")), submenu: windowMenu, role: 'window' });\n\t\t\tthis.setMacWindowMenu(windowMenu);\n\t\t}\n\n\t\t// Help\n\t\tlet helpMenu = new Menu();\n\t\tlet helpMenuItem = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'mHelp', comment: ['&& denotes a mnemonic'] }, \"&&Help\")), submenu: helpMenu, role: 'help' });\n\t\tthis.setHelpMenu(helpMenu);\n\n\t\t// Menu Structure\n\t\tif (macApplicationMenuItem) {\n\t\t\tmenubar.append(macApplicationMenuItem);\n\t\t}\n\n\t\tmenubar.append(fileMenuItem);\n\t\tmenubar.append(editMenuItem);\n\t\tmenubar.append(viewMenuItem);\n\t\tmenubar.append(gotoMenuItem);\n\n\t\tif (macWindowMenuItem) {\n\t\t\tmenubar.append(macWindowMenuItem);\n\t\t}\n\n\t\tmenubar.append(helpMenuItem);\n\n\t\tMenu.setApplicationMenu(menubar);\n\n\t\t// Dock Menu\n\t\tif (platform.isMacintosh && !this.appMenuInstalled) {\n\t\t\tthis.appMenuInstalled = true;\n\n\t\t\tlet dockMenu = new Menu();\n\t\t\tdockMenu.append(new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miNewWindow', comment: ['&& denotes a mnemonic'] }, \"&&New Window\")), click: () => windows.manager.openNewWindow() }));\n\n\t\t\tapp.dock.setMenu(dockMenu);\n\t\t}\n\t}\n\n\tprivate addToOpenedPathsList(path?: string, isFile?: boolean): void {\n\t\tif (!path) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet mru = this.getOpenedPathsList();\n\t\tif (isFile) {\n\t\t\tmru.files.unshift(path);\n\t\t\tmru.files = arrays.distinct(mru.files, (f) => platform.isLinux ? f : f.toLowerCase());\n\t\t} else {\n\t\t\tmru.folders.unshift(path);\n\t\t\tmru.folders = arrays.distinct(mru.folders, (f) => platform.isLinux ? f : f.toLowerCase());\n\t\t}\n\n\t\t// Make sure its bounded\n\t\tmru.folders = mru.folders.slice(0, VSCodeMenu.MAX_RECENT_ENTRIES);\n\t\tmru.files = mru.files.slice(0, VSCodeMenu.MAX_RECENT_ENTRIES);\n\n\t\tstorage.setItem(windows.WindowsManager.openedPathsListStorageKey, mru);\n\t}\n\n\tprivate removeFromOpenedPathsList(path: string): void {\n\t\tlet mru = this.getOpenedPathsList();\n\n\t\tlet index = mru.files.indexOf(path);\n\t\tif (index >= 0) {\n\t\t\tmru.files.splice(index, 1);\n\t\t}\n\n\t\tindex = mru.folders.indexOf(path);\n\t\tif (index >= 0) {\n\t\t\tmru.folders.splice(index, 1);\n\t\t}\n\n\t\tstorage.setItem(windows.WindowsManager.openedPathsListStorageKey, mru);\n\t}\n\n\tprivate clearOpenedPathsList(): void {\n\t\tstorage.setItem(windows.WindowsManager.openedPathsListStorageKey, { folders: [], files: [] });\n\t\tapp.clearRecentDocuments();\n\n\t\tthis.updateMenu();\n\t}\n\n\tprivate getOpenedPathsList(): windows.IOpenedPathsList {\n\t\tlet mru = storage.getItem<windows.IOpenedPathsList>(windows.WindowsManager.openedPathsListStorageKey);\n\t\tif (!mru) {\n\t\t\tmru = { folders: [], files: [] };\n\t\t}\n\n\t\treturn mru;\n\t}\n\n\tprivate setMacApplicationMenu(macApplicationMenu: Electron.Menu): void {\n\t\tlet about = new MenuItem({ label: nls.localize('mAbout', \"About {0}\", env.product.nameLong), role: 'about' });\n\t\tlet checkForUpdates = this.getUpdateMenuItems();\n\t\tlet preferences = this.getPreferencesMenu();\n\t\tlet hide = new MenuItem({ label: nls.localize('mHide', \"Hide {0}\", env.product.nameLong), role: 'hide', accelerator: 'Command+H' });\n\t\tlet hideOthers = new MenuItem({ label: nls.localize('mHideOthers', \"Hide Others\"), role: 'hideothers', accelerator: 'Command+Alt+H' });\n\t\tlet showAll = new MenuItem({ label: nls.localize('mShowAll', \"Show All\"), role: 'unhide' });\n\t\tlet quit = new MenuItem({ label: nls.localize('miQuit', \"Quit {0}\", env.product.nameLong), click: () => this.quit(), accelerator: 'Command+Q' });\n\n\t\tlet actions = [about];\n\t\tactions.push(...checkForUpdates);\n\t\tactions.push(...[\n\t\t\t__separator__(),\n\t\t\tpreferences,\n\t\t\t__separator__(),\n\t\t\thide,\n\t\t\thideOthers,\n\t\t\tshowAll,\n\t\t\t__separator__(),\n\t\t\tquit\n\t\t]);\n\n\t\tactions.forEach(i => macApplicationMenu.append(i));\n\t}\n\n\tprivate setFileMenu(fileMenu: Electron.Menu): void {\n\t\tlet hasNoWindows = (windows.manager.getWindowCount() === 0);\n\n\t\tlet newFile: Electron.MenuItem;\n\t\tif (hasNoWindows) {\n\t\t\tnewFile = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miNewFile', comment: ['&& denotes a mnemonic'] }, \"&&New File\")), accelerator: this.getAccelerator('workbench.action.files.newUntitledFile'), click: () => windows.manager.openNewWindow() });\n\t\t} else {\n\t\t\tnewFile = this.createMenuItem(nls.localize({ key: 'miNewFile', comment: ['&& denotes a mnemonic'] }, \"&&New File\"), 'workbench.action.files.newUntitledFile');\n\t\t}\n\n\t\tlet open = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miOpen', comment: ['&& denotes a mnemonic'] }, \"&&Open...\")), accelerator: this.getAccelerator('workbench.action.files.openFileFolder'), click: () => windows.manager.openFileFolderPicker() });\n\t\tlet openFile = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miOpenFile', comment: ['&& denotes a mnemonic'] }, \"&&Open File...\")), accelerator: this.getAccelerator('workbench.action.files.openFile'), click: () => windows.manager.openFilePicker() });\n\t\tlet openFolder = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miOpenFolder', comment: ['&& denotes a mnemonic'] }, \"Open &&Folder...\")), accelerator: this.getAccelerator('workbench.action.files.openFolder'), click: () => windows.manager.openFolderPicker() });\n\n\t\tlet openRecentMenu = new Menu();\n\t\tthis.setOpenRecentMenu(openRecentMenu);\n\t\tlet openRecent = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miOpenRecent', comment: ['&& denotes a mnemonic'] }, \"Open &&Recent\")), submenu: openRecentMenu, enabled: openRecentMenu.items.length > 0 });\n\n\t\tlet saveFile = this.createMenuItem(nls.localize({ key: 'miSave', comment: ['&& denotes a mnemonic'] }, \"&&Save\"), 'workbench.action.files.save', windows.manager.getWindowCount() > 0);\n\t\tlet saveFileAs = this.createMenuItem(nls.localize({ key: 'miSaveAs', comment: ['&& denotes a mnemonic'] }, \"Save &&As...\"), 'workbench.action.files.saveAs', windows.manager.getWindowCount() > 0);\n\t\tlet saveAllFiles = this.createMenuItem(nls.localize({ key: 'miSaveAll', comment: ['&& denotes a mnemonic'] }, \"Save A&&ll\"), 'workbench.action.files.saveAll', windows.manager.getWindowCount() > 0);\n\n\t\tlet preferences = this.getPreferencesMenu();\n\n\t\tlet newWindow = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miNewWindow', comment: ['&& denotes a mnemonic'] }, \"&&New Window\")), accelerator: this.getAccelerator('workbench.action.newWindow'), click: () => windows.manager.openNewWindow() });\n\t\tlet revertFile = this.createMenuItem(nls.localize({ key: 'miRevert', comment: ['&& denotes a mnemonic'] }, \"Revert F&&ile\"), 'workbench.action.files.revert', windows.manager.getWindowCount() > 0);\n\t\tlet closeWindow = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miCloseWindow', comment: ['&& denotes a mnemonic'] }, \"Close &&Window\")), accelerator: this.getAccelerator('workbench.action.closeWindow'), click: () => windows.manager.getLastActiveWindow().win.close(), enabled: windows.manager.getWindowCount() > 0 });\n\n\t\tlet closeFolder = this.createMenuItem(nls.localize({ key: 'miCloseFolder', comment: ['&& denotes a mnemonic'] }, \"Close &&Folder\"), 'workbench.action.closeFolder');\n\t\tlet closeEditor = this.createMenuItem(nls.localize({ key: 'miCloseEditor', comment: ['&& denotes a mnemonic'] }, \"Close &&Editor\"), 'workbench.action.closeActiveEditor');\n\n\t\tlet exit = this.createMenuItem(nls.localize({ key: 'miExit', comment: ['&& denotes a mnemonic'] }, \"E&&xit\"), () => this.quit());\n\n\t\tarrays.coalesce([\n\t\t\tnewFile,\n\t\t\tnewWindow,\n\t\t\t__separator__(),\n\t\t\tplatform.isMacintosh ? open : null,\n\t\t\t!platform.isMacintosh ? openFile : null,\n\t\t\t!platform.isMacintosh ? openFolder : null,\n\t\t\topenRecent,\n\t\t\t__separator__(),\n\t\t\tsaveFile,\n\t\t\tsaveFileAs,\n\t\t\tsaveAllFiles,\n\t\t\t__separator__(),\n\t\t\t!platform.isMacintosh ? preferences : null,\n\t\t\t!platform.isMacintosh ? __separator__() : null,\n\t\t\trevertFile,\n\t\t\tcloseEditor,\n\t\t\tcloseFolder,\n\t\t\t!platform.isMacintosh ? closeWindow : null,\n\t\t\t!platform.isMacintosh ? __separator__() : null,\n\t\t\t!platform.isMacintosh ? exit : null\n\t\t]).forEach((item) => fileMenu.append(item));\n\t}\n\n\tprivate getPreferencesMenu(): Electron.MenuItem {\n\t\tlet userSettings = this.createMenuItem(nls.localize({ key: 'miOpenSettings', comment: ['&& denotes a mnemonic'] }, \"&&User Settings\"), 'workbench.action.openGlobalSettings');\n\t\tlet workspaceSettings = this.createMenuItem(nls.localize({ key: 'miOpenWorkspaceSettings', comment: ['&& denotes a mnemonic'] }, \"&&Workspace Settings\"), 'workbench.action.openWorkspaceSettings');\n\t\tlet kebindingSettings = this.createMenuItem(nls.localize({ key: 'miOpenKeymap', comment: ['&& denotes a mnemonic'] }, \"&&Keyboard Shortcuts\"), 'workbench.action.openGlobalKeybindings');\n\t\tlet snippetsSettings = this.createMenuItem(nls.localize({ key: 'miOpenSnippets', comment: ['&& denotes a mnemonic'] }, \"User &&Snippets\"), 'workbench.action.openSnippets');\n\t\tlet themeSelection = this.createMenuItem(nls.localize({ key: 'miSelectTheme', comment: ['&& denotes a mnemonic'] }, \"&&Color Theme\"), 'workbench.action.selectTheme');\n\t\tlet preferencesMenu = new Menu();\n\t\tpreferencesMenu.append(userSettings);\n\t\tpreferencesMenu.append(workspaceSettings);\n\t\tpreferencesMenu.append(__separator__());\n\t\tpreferencesMenu.append(kebindingSettings);\n\t\tpreferencesMenu.append(__separator__());\n\t\tpreferencesMenu.append(snippetsSettings);\n\t\tpreferencesMenu.append(__separator__());\n\t\tpreferencesMenu.append(themeSelection);\n\n\t\treturn new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miPreferences', comment: ['&& denotes a mnemonic'] }, \"&&Preferences\")), submenu: preferencesMenu });\n\t}\n\n\tprivate quit(): void {\n\n\t\t// If the user selected to exit from an extension development host window, do not quit, but just\n\t\t// close the window unless this is the last window that is opened.\n\t\tlet vscodeWindow = windows.manager.getFocusedWindow();\n\t\tif (vscodeWindow && vscodeWindow.isPluginDevelopmentHost && windows.manager.getWindowCount() > 1) {\n\t\t\tvscodeWindow.win.close();\n\t\t}\n\n\t\t// Otherwise: normal quit\n\t\telse {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isQuitting = true;\n\n\t\t\t\tapp.quit();\n\t\t\t}, 10 /* delay this because there is an issue with quitting while the menu is open */);\n\t\t}\n\t}\n\n\tprivate setOpenRecentMenu(openRecentMenu: Electron.Menu): void {\n\t\tlet recentList = this.getOpenedPathsList();\n\n\t\t// Folders\n\t\trecentList.folders.forEach((folder, index) => {\n\t\t\tif (index < VSCodeMenu.MAX_RECENT_ENTRIES) {\n\t\t\t\topenRecentMenu.append(this.createOpenRecentMenuItem(folder));\n\t\t\t}\n\t\t});\n\n\t\t// Files\n\t\tlet files = recentList.files;\n\t\tif (platform.isMacintosh && recentList.files.length > 0) {\n\t\t\tfiles = recentList.files.filter(f => recentList.folders.indexOf(f) < 0); // TODO@Ben migration (remove in the future)\n\t\t}\n\n\t\tif (files.length > 0) {\n\t\t\tif (recentList.folders.length > 0) {\n\t\t\t\topenRecentMenu.append(__separator__());\n\t\t\t}\n\n\t\t\tfiles.forEach((file, index) => {\n\t\t\t\tif (index < VSCodeMenu.MAX_RECENT_ENTRIES) {\n\t\t\t\t\topenRecentMenu.append(this.createOpenRecentMenuItem(file));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (recentList.folders.length || files.length) {\n\t\t\topenRecentMenu.append(__separator__());\n\t\t\topenRecentMenu.append(new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miClearItems', comment: ['&& denotes a mnemonic'] }, \"&&Clear Items\")), click: () => this.clearOpenedPathsList() }));\n\t\t}\n\t}\n\n\tprivate createOpenRecentMenuItem(path: string): Electron.MenuItem {\n\t\treturn new MenuItem({\n\t\t\tlabel: path, click: () => {\n\t\t\t\tlet success = !!windows.manager.open({ cli: env.cliArgs, pathsToOpen: [path] });\n\t\t\t\tif (!success) {\n\t\t\t\t\tthis.removeFromOpenedPathsList(path);\n\t\t\t\t\tthis.updateMenu();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate createRoleMenuItem(label: string, actionId: string, role: string): Electron.MenuItem {\n\t\tlet options: Electron.MenuItemOptions = {\n\t\t\tlabel: mnemonicLabel(label),\n\t\t\taccelerator: this.getAccelerator(actionId),\n\t\t\trole: role,\n\t\t\tenabled: true\n\t\t};\n\n\t\treturn new MenuItem(options);\n\t}\n\n\tprivate setEditMenu(winLinuxEditMenu: Electron.Menu): void {\n\t\tlet undo: Electron.MenuItem;\n\t\tlet redo: Electron.MenuItem;\n\t\tlet cut: Electron.MenuItem;\n\t\tlet copy: Electron.MenuItem;\n\t\tlet paste: Electron.MenuItem;\n\t\tlet selectAll: Electron.MenuItem;\n\n\t\tif (platform.isMacintosh) {\n\t\t\tundo = this.createDevToolsAwareMenuItem(nls.localize({ key: 'miUndo', comment: ['&& denotes a mnemonic'] }, \"&&Undo\"), 'undo', (devTools) => devTools.undo());\n\t\t\tredo = this.createDevToolsAwareMenuItem(nls.localize({ key: 'miRedo', comment: ['&& denotes a mnemonic'] }, \"&&Redo\"), 'redo', (devTools) => devTools.redo());\n\t\t\tcut = this.createRoleMenuItem(nls.localize({ key: 'miCut', comment: ['&& denotes a mnemonic'] }, \"&&Cut\"), 'editor.action.clipboardCutAction', 'cut');\n\t\t\tcopy = this.createRoleMenuItem(nls.localize({ key: 'miCopy', comment: ['&& denotes a mnemonic'] }, \"C&&opy\"), 'editor.action.clipboardCopyAction', 'copy');\n\t\t\tpaste = this.createRoleMenuItem(nls.localize({ key: 'miPaste', comment: ['&& denotes a mnemonic'] }, \"&&Paste\"), 'editor.action.clipboardPasteAction', 'paste');\n\t\t\tselectAll = this.createDevToolsAwareMenuItem(nls.localize({ key: 'miSelectAll', comment: ['&& denotes a mnemonic'] }, \"&&Select All\"), 'editor.action.selectAll', (devTools) => devTools.selectAll());\n\t\t} else {\n\t\t\tundo = this.createMenuItem(nls.localize({ key: 'miUndo', comment: ['&& denotes a mnemonic'] }, \"&&Undo\"), 'undo');\n\t\t\tredo = this.createMenuItem(nls.localize({ key: 'miRedo', comment: ['&& denotes a mnemonic'] }, \"&&Redo\"), 'redo');\n\t\t\tcut = this.createMenuItem(nls.localize({ key: 'miCut', comment: ['&& denotes a mnemonic'] }, \"&&Cut\"), 'editor.action.clipboardCutAction');\n\t\t\tcopy = this.createMenuItem(nls.localize({ key: 'miCopy', comment: ['&& denotes a mnemonic'] }, \"C&&opy\"), 'editor.action.clipboardCopyAction');\n\t\t\tpaste = this.createMenuItem(nls.localize({ key: 'miPaste', comment: ['&& denotes a mnemonic'] }, \"&&Paste\"), 'editor.action.clipboardPasteAction');\n\t\t\tselectAll = this.createMenuItem(nls.localize({ key: 'miSelectAll', comment: ['&& denotes a mnemonic'] }, \"&&Select All\"), 'editor.action.selectAll');\n\t\t}\n\n\t\tlet find = this.createMenuItem(nls.localize({ key: 'miFind', comment: ['&& denotes a mnemonic'] }, \"&&Find\"), 'actions.find');\n\t\tlet replace = this.createMenuItem(nls.localize({ key: 'miReplace', comment: ['&& denotes a mnemonic'] }, \"&&Replace\"), 'editor.action.startFindReplaceAction');\n\t\tlet findInFiles = this.createMenuItem(nls.localize({ key: 'miFindInFiles', comment: ['&& denotes a mnemonic'] }, \"Find &&in Files\"), 'workbench.view.search');\n\n\t\t[\n\t\t\tundo,\n\t\t\tredo,\n\t\t\t__separator__(),\n\t\t\tcut,\n\t\t\tcopy,\n\t\t\tpaste,\n\t\t\tselectAll,\n\t\t\t__separator__(),\n\t\t\tfind,\n\t\t\treplace,\n\t\t\t__separator__(),\n\t\t\tfindInFiles\n\t\t].forEach((item) => winLinuxEditMenu.append(item));\n\t}\n\n\tprivate setViewMenu(viewMenu: Electron.Menu): void {\n\t\tlet explorer = this.createMenuItem(nls.localize({ key: 'miViewExplorer', comment: ['&& denotes a mnemonic'] }, \"&&Explorer\"), 'workbench.view.explorer');\n\t\tlet search = this.createMenuItem(nls.localize({ key: 'miViewSearch', comment: ['&& denotes a mnemonic'] }, \"&&Search\"), 'workbench.view.search');\n\t\tlet git = this.createMenuItem(nls.localize({ key: 'miViewGit', comment: ['&& denotes a mnemonic'] }, \"&&Git\"), 'workbench.view.git');\n\t\tlet debug = this.createMenuItem(nls.localize({ key: 'miViewDebug', comment: ['&& denotes a mnemonic'] }, \"&&Debug\"), 'workbench.view.debug');\n\n\t\tlet commands = this.createMenuItem(nls.localize({ key: 'miCommandPalette', comment: ['&& denotes a mnemonic'] }, \"&&Command Palette...\"), 'workbench.action.showCommands');\n\t\tlet markers = this.createMenuItem(nls.localize({ key: 'miMarker', comment: ['&& denotes a mnemonic'] }, \"&&Errors and Warnings...\"), 'workbench.action.showErrorsWarnings');\n\n\t\tlet output = this.createMenuItem(nls.localize({ key: 'miToggleOutput', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Output\"), 'workbench.action.output.toggleOutput');\n\t\tlet debugConsole = this.createMenuItem(nls.localize({ key: 'miToggleDebugConsole', comment: ['&& denotes a mnemonic'] }, \"Toggle De&&bug Console\"), 'workbench.debug.action.toggleRepl');\n\n\t\tlet fullscreen = new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miToggleFullScreen', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Full Screen\")), accelerator: this.getAccelerator('workbench.action.toggleFullScreen'), click: () => windows.manager.getLastActiveWindow().toggleFullScreen(), enabled: windows.manager.getWindowCount() > 0 });\n\t\tlet toggleMenuBar = this.createMenuItem(nls.localize({ key: 'miToggleMenuBar', comment: ['&& denotes a mnemonic'] }, \"Toggle Menu &&Bar\"), 'workbench.action.toggleMenuBar');\n\t\tlet splitEditor = this.createMenuItem(nls.localize({ key: 'miSplitEditor', comment: ['&& denotes a mnemonic'] }, \"Split &&Editor\"), 'workbench.action.splitEditor');\n\t\tlet toggleSidebar = this.createMenuItem(nls.localize({ key: 'miToggleSidebar', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Side Bar\"), 'workbench.action.toggleSidebarVisibility');\n\t\tlet moveSidebar = this.createMenuItem(nls.localize({ key: 'miMoveSidebar', comment: ['&& denotes a mnemonic'] }, \"&&Move Side Bar\"), 'workbench.action.toggleSidebarPosition');\n\t\tlet togglePanel = this.createMenuItem(nls.localize({ key: 'miTogglePanel', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Panel\"), 'workbench.action.togglePanel');\n\n\t\tconst toggleWordWrap = this.createMenuItem(nls.localize({ key: 'miToggleWordWrap', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Word Wrap\"), 'editor.action.toggleWordWrap');\n\t\tconst toggleRenderWhitespace = this.createMenuItem(nls.localize({ key: 'miToggleRenderWhitespace', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Render Whitespace\"), 'editor.action.toggleRenderWhitespace');\n\n\n\t\tlet zoomIn = this.createMenuItem(nls.localize({ key: 'miZoomIn', comment: ['&& denotes a mnemonic'] }, \"&&Zoom in\"), 'workbench.action.zoomIn');\n\t\tlet zoomOut = this.createMenuItem(nls.localize({ key: 'miZoomOut', comment: ['&& denotes a mnemonic'] }, \"Zoom o&&ut\"), 'workbench.action.zoomOut');\n\n\t\tarrays.coalesce([\n\t\t\texplorer,\n\t\t\tsearch,\n\t\t\tgit,\n\t\t\tdebug,\n\t\t\t__separator__(),\n\t\t\tcommands,\n\t\t\tmarkers,\n\t\t\t__separator__(),\n\t\t\toutput,\n\t\t\tdebugConsole,\n\t\t\t__separator__(),\n\t\t\tfullscreen,\n\t\t\tplatform.isWindows || platform.isLinux ? toggleMenuBar : void 0,\n\t\t\t__separator__(),\n\t\t\tsplitEditor,\n\t\t\ttoggleSidebar,\n\t\t\tmoveSidebar,\n\t\t\ttogglePanel,\n\t\t\t__separator__(),\n\t\t\ttoggleWordWrap,\n\t\t\ttoggleRenderWhitespace,\n\t\t\t__separator__(),\n\t\t\tzoomIn,\n\t\t\tzoomOut\n\t\t]).forEach((item) => viewMenu.append(item));\n\t}\n\n\tprivate setGotoMenu(gotoMenu: Electron.Menu): void {\n\t\tlet back = this.createMenuItem(nls.localize({ key: 'miBack', comment: ['&& denotes a mnemonic'] }, \"&&Back\"), 'workbench.action.navigateBack');\n\t\tlet forward = this.createMenuItem(nls.localize({ key: 'miForward', comment: ['&& denotes a mnemonic'] }, \"&&Forward\"), 'workbench.action.navigateForward');\n\t\tlet navigateHistory = this.createMenuItem(nls.localize({ key: 'miNavigateHistory', comment: ['&& denotes a mnemonic'] }, \"&&Navigate History\"), 'workbench.action.openPreviousEditor');\n\t\tlet gotoFile = this.createMenuItem(nls.localize({ key: 'miGotoFile', comment: ['&& denotes a mnemonic'] }, \"Go to &&File...\"), 'workbench.action.quickOpen');\n\t\tlet gotoSymbol = this.createMenuItem(nls.localize({ key: 'miGotoSymbol', comment: ['&& denotes a mnemonic'] }, \"Go to &&Symbol...\"), 'workbench.action.gotoSymbol');\n\t\tlet gotoDefinition = this.createMenuItem(nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\"), 'editor.action.goToDeclaration');\n\t\tlet gotoLine = this.createMenuItem(nls.localize({ key: 'miGotoLine', comment: ['&& denotes a mnemonic'] }, \"Go to &&Line...\"), 'workbench.action.gotoLine');\n\n\t\t[\n\t\t\tback,\n\t\t\tforward,\n\t\t\t__separator__(),\n\t\t\tnavigateHistory,\n\t\t\t__separator__(),\n\t\t\tgotoFile,\n\t\t\tgotoSymbol,\n\t\t\tgotoDefinition,\n\t\t\tgotoLine\n\t\t].forEach((item) => gotoMenu.append(item));\n\t}\n\n\tprivate setMacWindowMenu(macWindowMenu: Electron.Menu): void {\n\t\tlet minimize = new MenuItem({ label: nls.localize('mMinimize', \"Minimize\"), role: 'minimize', accelerator: 'Command+M', enabled: windows.manager.getWindowCount() > 0 });\n\t\tlet close = new MenuItem({ label: nls.localize('mClose', \"Close\"), role: 'close', accelerator: 'Command+W', enabled: windows.manager.getWindowCount() > 0 });\n\t\tlet bringAllToFront = new MenuItem({ label: nls.localize('mBringToFront', \"Bring All to Front\"), role: 'front', enabled: windows.manager.getWindowCount() > 0 });\n\n\t\t[\n\t\t\tminimize,\n\t\t\tclose,\n\t\t\t__separator__(),\n\t\t\tbringAllToFront\n\t\t].forEach((item) => macWindowMenu.append(item));\n\t}\n\n\tprivate setHelpMenu(helpMenu: Electron.Menu): void {\n\t\tlet toggleDevToolsItem = new MenuItem({\n\t\t\tlabel: mnemonicLabel(nls.localize({ key: 'miToggleDevTools', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Developer Tools\")),\n\t\t\taccelerator: this.getAccelerator('workbench.action.toggleDevTools'),\n\t\t\tclick: toggleDevTools,\n\t\t\tenabled: (windows.manager.getWindowCount() > 0)\n\t\t});\n\n\t\tarrays.coalesce([\n\t\t\tenv.product.documentationUrl ? new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miDocumentation', comment: ['&& denotes a mnemonic'] }, \"&&Documentation\")), click: () => openUrl(env.product.documentationUrl, 'openDocumentationUrl') }) : null,\n\t\t\tenv.product.releaseNotesUrl ? new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miReleaseNotes', comment: ['&& denotes a mnemonic'] }, \"&&Release Notes\")), click: () => openUrl(env.product.releaseNotesUrl, 'openReleaseNotesUrl') }) : null,\n\t\t\t(env.product.documentationUrl || env.product.releaseNotesUrl) ? __separator__() : null,\n\t\t\tenv.product.twitterUrl ? new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miTwitter', comment: ['&& denotes a mnemonic'] }, \"&&Join us on Twitter\")), click: () => openUrl(env.product.twitterUrl, 'openTwitterUrl') }) : null,\n\t\t\tenv.product.requestFeatureUrl ? new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miUserVoice', comment: ['&& denotes a mnemonic'] }, \"&&Request Features\")), click: () => openUrl(env.product.requestFeatureUrl, 'openUserVoiceUrl') }) : null,\n\t\t\tenv.product.reportIssueUrl ? new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miReportIssues', comment: ['&& denotes a mnemonic'] }, \"Report &&Issues\")), click: () => openUrl(env.product.reportIssueUrl, 'openReportIssues') }) : null,\n\t\t\t(env.product.twitterUrl || env.product.requestFeatureUrl || env.product.reportIssueUrl) ? __separator__() : null,\n\t\t\tenv.product.licenseUrl ? new MenuItem({\n\t\t\t\tlabel: mnemonicLabel(nls.localize({ key: 'miLicense', comment: ['&& denotes a mnemonic'] }, \"&&View License\")), click: () => {\n\t\t\t\t\tif (platform.language) {\n\t\t\t\t\t\tlet queryArgChar = env.product.licenseUrl.indexOf('?') > 0 ? '&' : '?';\n\t\t\t\t\t\topenUrl(`${env.product.licenseUrl}${queryArgChar}lang=${platform.language}`, 'openLicenseUrl');\n\t\t\t\t\t} else {\n\t\t\t\t\t\topenUrl(env.product.licenseUrl, 'openLicenseUrl');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) : null,\n\t\t\tenv.product.privacyStatementUrl ? new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miPrivacyStatement', comment: ['&& denotes a mnemonic'] }, \"&&Privacy Statement\")), click: () => openUrl(env.product.privacyStatementUrl, 'openPrivacyStatement') }) : null,\n\t\t\t(env.product.licenseUrl || env.product.privacyStatementUrl) ? __separator__() : null,\n\t\t\ttoggleDevToolsItem,\n\t\t]).forEach((item) => helpMenu.append(item));\n\n\t\tif (!platform.isMacintosh) {\n\t\t\tconst updateMenuItems = this.getUpdateMenuItems();\n\t\t\tif (updateMenuItems.length) {\n\t\t\t\thelpMenu.append(__separator__());\n\t\t\t\tupdateMenuItems.forEach(i => helpMenu.append(i));\n\t\t\t}\n\n\t\t\thelpMenu.append(__separator__());\n\t\t\thelpMenu.append(new MenuItem({ label: mnemonicLabel(nls.localize({ key: 'miAbout', comment: ['&& denotes a mnemonic'] }, \"&&About\")), click: openAboutDialog }));\n\t\t}\n\t}\n\n\tprivate getUpdateMenuItems(): Electron.MenuItem[] {\n\t\tswitch (UpdateManager.state) {\n\t\t\tcase um.State.Uninitialized:\n\t\t\t\treturn [];\n\n\t\t\tcase um.State.UpdateDownloaded:\n\t\t\t\tlet update = UpdateManager.availableUpdate;\n\t\t\t\treturn [new MenuItem({\n\t\t\t\t\tlabel: nls.localize('miRestartToUpdate', \"Restart To Update...\"), click: () => {\n\t\t\t\t\t\treportMenuActionTelemetry('RestartToUpdate');\n\t\t\t\t\t\tupdate.quitAndUpdate();\n\t\t\t\t\t}\n\t\t\t\t})];\n\n\t\t\tcase um.State.CheckingForUpdate:\n\t\t\t\treturn [new MenuItem({ label: nls.localize('miCheckingForUpdates', \"Checking For Updates...\"), enabled: false })];\n\n\t\t\tcase um.State.UpdateAvailable:\n\t\t\t\tif (platform.isLinux) {\n\t\t\t\t\tconst update = UpdateManager.availableUpdate;\n\t\t\t\t\treturn [new MenuItem({\n\t\t\t\t\t\tlabel: nls.localize('miDownloadUpdate', \"Download Available Update\"), click: () => {\n\t\t\t\t\t\t\tupdate.quitAndUpdate();\n\t\t\t\t\t\t}\n\t\t\t\t\t})];\n\t\t\t\t}\n\n\t\t\t\tlet updateAvailableLabel = platform.isWindows\n\t\t\t\t\t? nls.localize('miDownloadingUpdate', \"Downloading Update...\")\n\t\t\t\t\t: nls.localize('miInstallingUpdate', \"Installing Update...\");\n\n\t\t\t\treturn [new MenuItem({ label: updateAvailableLabel, enabled: false })];\n\n\t\t\tdefault:\n\t\t\t\tlet result = [new MenuItem({\n\t\t\t\t\tlabel: nls.localize('miCheckForUpdates', \"Check For Updates...\"), click: () => setTimeout(() => {\n\t\t\t\t\t\treportMenuActionTelemetry('CheckForUpdate');\n\t\t\t\t\t\tUpdateManager.checkForUpdates(true);\n\t\t\t\t\t}, 0)\n\t\t\t\t})];\n\n\t\t\t\tif (UpdateManager.lastCheckDate) {\n\t\t\t\t\tresult.push(new MenuItem({ label: nls.localize('miLastCheckedAt', \"Last checked at {0}\", UpdateManager.lastCheckDate.toLocaleTimeString()), enabled: false }));\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t}\n\t}\n\n\tprivate createMenuItem(label: string, actionId: string, enabled?: boolean): Electron.MenuItem;\n\tprivate createMenuItem(label: string, click: () => void, enabled?: boolean): Electron.MenuItem;\n\tprivate createMenuItem(arg1: string, arg2: any, arg3?: boolean): Electron.MenuItem {\n\t\tlet label = mnemonicLabel(arg1);\n\t\tlet click: () => void = (typeof arg2 === 'function') ? arg2 : () => windows.manager.sendToFocused('vscode:runAction', arg2);\n\t\tlet enabled = typeof arg3 === 'boolean' ? arg3 : windows.manager.getWindowCount() > 0;\n\n\t\tlet actionId: string;\n\t\tif (typeof arg2 === 'string') {\n\t\t\tactionId = arg2;\n\t\t}\n\n\t\tlet options: Electron.MenuItemOptions = {\n\t\t\tlabel: label,\n\t\t\taccelerator: this.getAccelerator(actionId),\n\t\t\tclick: click,\n\t\t\tenabled: enabled\n\t\t};\n\n\t\treturn new MenuItem(options);\n\t}\n\n\tprivate createDevToolsAwareMenuItem(label: string, actionId: string, devToolsFocusedFn: (contents: Electron.WebContents) => void): Electron.MenuItem {\n\t\treturn new MenuItem({\n\t\t\tlabel: mnemonicLabel(label),\n\t\t\taccelerator: this.getAccelerator(actionId),\n\t\t\tenabled: windows.manager.getWindowCount() > 0,\n\t\t\tclick: () => {\n\t\t\t\tlet windowInFocus = windows.manager.getFocusedWindow();\n\t\t\t\tif (!windowInFocus) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (windowInFocus.win.isDevToolsFocused()) {\n\t\t\t\t\tdevToolsFocusedFn(windowInFocus.win.devToolsWebContents);\n\t\t\t\t} else {\n\t\t\t\t\twindows.manager.sendToFocused('vscode:runAction', actionId);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate getAccelerator(actionId: string): string {\n\t\tif (actionId) {\n\t\t\tlet resolvedKeybinding = this.mapResolvedKeybindingToActionId[actionId];\n\t\t\tif (resolvedKeybinding) {\n\t\t\t\treturn resolvedKeybinding; // keybinding is fully resolved\n\t\t\t}\n\n\t\t\tif (!this.keybindingsResolved) {\n\t\t\t\tthis.actionIdKeybindingRequests.push(actionId); // keybinding needs to be resolved\n\t\t\t}\n\n\t\t\tlet lastKnownKeybinding = this.mapLastKnownKeybindingToActionId[actionId];\n\n\t\t\treturn lastKnownKeybinding; // return the last known keybining (chance of mismatch is very low unless it changed)\n\t\t}\n\n\t\treturn void (0);\n\t}\n}\n\nfunction openAboutDialog(): void {\n\tlet lastActiveWindow = windows.manager.getFocusedWindow() || windows.manager.getLastActiveWindow();\n\n\tdialog.showMessageBox(lastActiveWindow && lastActiveWindow.win, {\n\t\ttitle: env.product.nameLong,\n\t\ttype: 'info',\n\t\tmessage: env.product.nameLong,\n\t\tdetail: nls.localize('aboutDetail',\n\t\t\t\"\\nVersion {0}\\nCommit {1}\\nDate {2}\\nShell {3}\\nRenderer {4}\\nNode {5}\",\n\t\t\tapp.getVersion(),\n\t\t\tenv.product.commit || 'Unknown',\n\t\t\tenv.product.date || 'Unknown',\n\t\t\tprocess.versions['electron'],\n\t\t\tprocess.versions['chrome'],\n\t\t\tprocess.versions['node']\n\t\t),\n\t\tbuttons: [nls.localize('okButton', \"OK\")],\n\t\tnoLink: true\n\t}, (result) => null);\n\n\treportMenuActionTelemetry('showAboutDialog');\n}\n\nfunction openUrl(url: string, id: string): void {\n\tshell.openExternal(url);\n\treportMenuActionTelemetry(id);\n}\n\nfunction toggleDevTools(): void {\n\tlet w = windows.manager.getFocusedWindow();\n\tif (w && w.win) {\n\t\tw.win.webContents.toggleDevTools();\n\t}\n}\n\nfunction reportMenuActionTelemetry(id: string): void {\n\twindows.manager.sendToFocused('vscode:telemetry', { eventName: 'workbenchActionExecuted', data: { id, from: 'menu' } });\n}\n\nfunction __separator__(): Electron.MenuItem {\n\treturn new MenuItem({ type: 'separator' });\n}\n\nfunction mnemonicLabel(label: string): string {\n\tif (platform.isMacintosh) {\n\t\treturn label.replace(/&&/g, ''); // no mnemonic support on mac\n\t}\n\n\treturn label.replace(/&&/g, '&');\n}\n\nexport const manager = new VSCodeMenu();\n"]}