{"version":3,"file":"vs/workbench/api/node/extHostLanguageFeatures.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sources":["vs/workbench/api/node/extHostLanguageFeatures.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport URI from 'vs/base/common/uri';\nimport {TPromise} from 'vs/base/common/winjs.base';\nimport {IDisposable, dispose} from 'vs/base/common/lifecycle';\nimport {Remotable, IThreadService} from 'vs/platform/thread/common/thread';\nimport * as vscode from 'vscode';\nimport * as TypeConverters from 'vs/workbench/api/node/extHostTypeConverters';\nimport {Range, DocumentHighlightKind, Disposable, SignatureHelp, CompletionList} from 'vs/workbench/api/node/extHostTypes';\nimport {IPosition, IRange, ISingleEditOperation} from 'vs/editor/common/editorCommon';\nimport * as modes from 'vs/editor/common/modes';\nimport {ExtHostModelService} from 'vs/workbench/api/node/extHostDocuments';\nimport {ExtHostCommands} from 'vs/workbench/api/node/extHostCommands';\nimport {ExtHostDiagnostics} from 'vs/workbench/api/node/extHostDiagnostics';\nimport {NavigateTypesSupportRegistry, INavigateTypesSupport, ITypeBearing} from 'vs/workbench/parts/search/common/search';\nimport {asWinJsPromise, ShallowCancelThenPromise} from 'vs/base/common/async';\n\n// --- adapter\n\nclass OutlineAdapter implements modes.IOutlineSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.DocumentSymbolProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.DocumentSymbolProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tgetOutline(resource: URI): TPromise<modes.IOutlineEntry[]> {\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\treturn asWinJsPromise(token => this._provider.provideDocumentSymbols(doc, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(TypeConverters.SymbolInformation.toOutlineEntry);\n\t\t\t}\n\t\t});\n\t}\n}\n\ninterface CachedCodeLens {\n\tsymbols: modes.ICodeLensSymbol[];\n\tlenses: vscode.CodeLens[];\n\tdisposables: IDisposable[];\n}\n\nclass CodeLensAdapter implements modes.ICodeLensSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _commands: ExtHostCommands;\n\tprivate _provider: vscode.CodeLensProvider;\n\n\tprivate _cache: { [uri: string]: { version: number; data: TPromise<CachedCodeLens>; } } = Object.create(null);\n\n\tconstructor(documents: ExtHostModelService, commands: ExtHostCommands, provider: vscode.CodeLensProvider) {\n\t\tthis._documents = documents;\n\t\tthis._commands = commands;\n\t\tthis._provider = provider;\n\t}\n\n\tfindCodeLensSymbols(resource: URI): TPromise<modes.ICodeLensSymbol[]> {\n\t\tconst doc = this._documents.getDocumentData(resource).document;\n\t\tconst version = doc.version;\n\t\tconst key = resource.toString();\n\n\t\t// from cache\n\t\tlet entry = this._cache[key];\n\t\tif (entry && entry.version === version) {\n\t\t\treturn new ShallowCancelThenPromise(entry.data.then(cached => cached.symbols));\n\t\t}\n\n\t\tconst newCodeLensData = asWinJsPromise(token => this._provider.provideCodeLenses(doc, token)).then(lenses => {\n\t\t\tif (!Array.isArray(lenses)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data: CachedCodeLens = {\n\t\t\t\tlenses,\n\t\t\t\tsymbols: [],\n\t\t\t\tdisposables: [],\n\t\t\t};\n\n\t\t\tlenses.forEach((lens, i) => {\n\t\t\t\tdata.symbols.push(<modes.ICodeLensSymbol>{\n\t\t\t\t\tid: String(i),\n\t\t\t\t\trange: TypeConverters.fromRange(lens.range),\n\t\t\t\t\tcommand: TypeConverters.Command.from(lens.command, { commands: this._commands, disposables: data.disposables })\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn data;\n\t\t});\n\n\t\tthis._cache[key] = {\n\t\t\tversion,\n\t\t\tdata: newCodeLensData\n\t\t};\n\n\t\treturn new ShallowCancelThenPromise(newCodeLensData.then(newCached => {\n\t\t\tif (entry) {\n\t\t\t\t// only now dispose old commands et al\n\t\t\t\tentry.data.then(oldCached => dispose(oldCached.disposables));\n\t\t\t}\n\t\t\treturn newCached && newCached.symbols;\n\t\t}));\n\n\t}\n\n\tresolveCodeLensSymbol(resource: URI, symbol: modes.ICodeLensSymbol): TPromise<modes.ICodeLensSymbol> {\n\n\t\tconst entry = this._cache[resource.toString()];\n\t\tif (!entry) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn entry.data.then(cachedData => {\n\n\t\t\tif (!cachedData) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet lens = cachedData.lenses[Number(symbol.id)];\n\t\t\tif (!lens) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet resolve: TPromise<vscode.CodeLens>;\n\t\t\tif (typeof this._provider.resolveCodeLens !== 'function' || lens.isResolved) {\n\t\t\t\tresolve = TPromise.as(lens);\n\t\t\t} else {\n\t\t\t\tresolve = asWinJsPromise(token => this._provider.resolveCodeLens(lens, token));\n\t\t\t}\n\n\t\t\treturn resolve.then(newLens => {\n\t\t\t\tlens = newLens || lens;\n\t\t\t\tlet command = lens.command;\n\t\t\t\tif (!command) {\n\t\t\t\t\tcommand = {\n\t\t\t\t\t\ttitle: '<<MISSING COMMAND>>',\n\t\t\t\t\t\tcommand: 'missing',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tsymbol.command = TypeConverters.Command.from(command, { commands: this._commands, disposables: cachedData.disposables });\n\t\t\t\treturn symbol;\n\t\t\t});\n\t\t});\n\t}\n}\n\nclass DeclarationAdapter implements modes.IDeclarationSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.DefinitionProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.DefinitionProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tcanFindDeclaration() {\n\t\treturn true;\n\t}\n\n\tfindDeclaration(resource: URI, position: IPosition): TPromise<modes.IReference[]> {\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet pos = TypeConverters.toPosition(position);\n\t\treturn asWinJsPromise(token => this._provider.provideDefinition(doc, pos, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(DeclarationAdapter._convertLocation);\n\t\t\t} else if (value) {\n\t\t\t\treturn DeclarationAdapter._convertLocation(value);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate static _convertLocation(location: vscode.Location): modes.IReference {\n\t\tif (!location) {\n\t\t\treturn;\n\t\t}\n\t\treturn <modes.IReference>{\n\t\t\tresource: location.uri,\n\t\t\trange: TypeConverters.fromRange(location.range)\n\t\t};\n\t}\n}\n\nclass ExtraInfoAdapter implements modes.IExtraInfoSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.HoverProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.HoverProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tcomputeInfo(resource: URI, position: IPosition): TPromise<modes.IComputeExtraInfoResult> {\n\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet pos = TypeConverters.toPosition(position);\n\n\t\treturn asWinJsPromise(token => this._provider.provideHover(doc, pos, token)).then(value => {\n\t\t\tif (!value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!value.range) {\n\t\t\t\tvalue.range = doc.getWordRangeAtPosition(pos);\n\t\t\t}\n\t\t\tif (!value.range) {\n\t\t\t\tvalue.range = new Range(pos, pos);\n\t\t\t}\n\n\t\t\treturn TypeConverters.fromHover(value);\n\t\t});\n\t}\n}\n\nclass OccurrencesAdapter implements modes.IOccurrencesSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.DocumentHighlightProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.DocumentHighlightProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tfindOccurrences(resource: URI, position: IPosition): TPromise<modes.IOccurence[]> {\n\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet pos = TypeConverters.toPosition(position);\n\n\t\treturn asWinJsPromise(token => this._provider.provideDocumentHighlights(doc, pos, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(OccurrencesAdapter._convertDocumentHighlight);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate static _convertDocumentHighlight(documentHighlight: vscode.DocumentHighlight): modes.IOccurence {\n\t\treturn {\n\t\t\trange: TypeConverters.fromRange(documentHighlight.range),\n\t\t\tkind: DocumentHighlightKind[documentHighlight.kind].toString().toLowerCase()\n\t\t};\n\t}\n}\n\nclass ReferenceAdapter implements modes.IReferenceSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.ReferenceProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.ReferenceProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tcanFindReferences(): boolean {\n\t\treturn true;\n\t}\n\n\tfindReferences(resource: URI, position: IPosition, includeDeclaration: boolean): TPromise<modes.IReference[]> {\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet pos = TypeConverters.toPosition(position);\n\n\t\treturn asWinJsPromise(token => this._provider.provideReferences(doc, pos, { includeDeclaration }, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(ReferenceAdapter._convertLocation);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate static _convertLocation(location: vscode.Location): modes.IReference {\n\t\treturn <modes.IReference>{\n\t\t\tresource: location.uri,\n\t\t\trange: TypeConverters.fromRange(location.range)\n\t\t};\n\t}\n}\n\nclass QuickFixAdapter implements modes.IQuickFixSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _commands: ExtHostCommands;\n\tprivate _diagnostics: ExtHostDiagnostics;\n\tprivate _provider: vscode.CodeActionProvider;\n\n\tprivate _cachedCommands: IDisposable[] = [];\n\n\tconstructor(documents: ExtHostModelService, commands: ExtHostCommands, diagnostics: ExtHostDiagnostics, provider: vscode.CodeActionProvider) {\n\t\tthis._documents = documents;\n\t\tthis._commands = commands;\n\t\tthis._diagnostics = diagnostics;\n\t\tthis._provider = provider;\n\t}\n\n\tgetQuickFixes(resource: URI, range: IRange): TPromise<modes.IQuickFix[]> {\n\n\t\tconst doc = this._documents.getDocumentData(resource).document;\n\t\tconst ran = TypeConverters.toRange(range);\n\t\tconst allDiagnostics: vscode.Diagnostic[] = [];\n\n\t\tthis._diagnostics.forEach(collection => {\n\t\t\tif (collection.has(resource)) {\n\t\t\t\tfor (let diagnostic of collection.get(resource)) {\n\t\t\t\t\tif (diagnostic.range.intersection(ran)) {\n\t\t\t\t\t\tallDiagnostics.push(diagnostic);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._cachedCommands = dispose(this._cachedCommands);\n\t\tconst ctx = { commands: this._commands, disposables: this._cachedCommands };\n\n\t\treturn asWinJsPromise(token => this._provider.provideCodeActions(doc, ran, { diagnostics: allDiagnostics }, token)).then(commands => {\n\t\t\tif (!Array.isArray(commands)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn commands.map((command, i) => {\n\t\t\t\treturn <modes.IQuickFix> {\n\t\t\t\t\tcommand: TypeConverters.Command.from(command, ctx),\n\t\t\t\t\tscore: i\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t}\n\n\trunQuickFixAction(resource: URI, range: IRange, quickFix: modes.IQuickFix): any {\n\t\tlet command = TypeConverters.Command.to(quickFix.command);\n\t\treturn this._commands.executeCommand(command.command, ...command.arguments);\n\t}\n}\n\nclass DocumentFormattingAdapter implements modes.IFormattingSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.DocumentFormattingEditProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.DocumentFormattingEditProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tformatDocument(resource: URI, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> {\n\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\n\t\treturn asWinJsPromise(token => this._provider.provideDocumentFormattingEdits(doc, <any>options, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(TypeConverters.TextEdit.from);\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass RangeFormattingAdapter implements modes.IFormattingSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.DocumentRangeFormattingEditProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.DocumentRangeFormattingEditProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tformatRange(resource: URI, range: IRange, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> {\n\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet ran = TypeConverters.toRange(range);\n\n\t\treturn asWinJsPromise(token => this._provider.provideDocumentRangeFormattingEdits(doc, ran, <any>options, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(TypeConverters.TextEdit.from);\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass OnTypeFormattingAdapter implements modes.IFormattingSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.OnTypeFormattingEditProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.OnTypeFormattingEditProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tautoFormatTriggerCharacters: string[] = []; // not here\n\n\tformatAfterKeystroke(resource: URI, position: IPosition, ch: string, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> {\n\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet pos = TypeConverters.toPosition(position);\n\n\t\treturn asWinJsPromise(token => this._provider.provideOnTypeFormattingEdits(doc, pos, ch, <any> options, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(TypeConverters.TextEdit.from);\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass NavigateTypeAdapter implements INavigateTypesSupport {\n\n\tprivate _provider: vscode.WorkspaceSymbolProvider;\n\n\tconstructor(provider: vscode.WorkspaceSymbolProvider) {\n\t\tthis._provider = provider;\n\t}\n\n\tgetNavigateToItems(search: string): TPromise<ITypeBearing[]> {\n\t\treturn asWinJsPromise(token => this._provider.provideWorkspaceSymbols(search, token)).then(value => {\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn value.map(TypeConverters.fromSymbolInformation);\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass RenameAdapter implements modes.IRenameSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.RenameProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.RenameProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\trename(resource: URI, position: IPosition, newName: string): TPromise<modes.IRenameResult> {\n\n\t\tlet doc = this._documents.getDocumentData(resource).document;\n\t\tlet pos = TypeConverters.toPosition(position);\n\n\t\treturn asWinJsPromise(token => this._provider.provideRenameEdits(doc, pos, newName, token)).then(value => {\n\n\t\t\tif (!value) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet result = <modes.IRenameResult>{\n\t\t\t\tcurrentName: undefined,\n\t\t\t\tedits: []\n\t\t\t};\n\n\t\t\tfor (let entry of value.entries()) {\n\t\t\t\tlet [uri, textEdits] = entry;\n\t\t\t\tfor (let textEdit of textEdits) {\n\t\t\t\t\tresult.edits.push({\n\t\t\t\t\t\tresource: <URI>uri,\n\t\t\t\t\t\tnewText: textEdit.newText,\n\t\t\t\t\t\trange: TypeConverters.fromRange(textEdit.range)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}, err => {\n\t\t\tif (typeof err === 'string') {\n\t\t\t\treturn <modes.IRenameResult>{\n\t\t\t\t\tcurrentName: undefined,\n\t\t\t\t\tedits: undefined,\n\t\t\t\t\trejectReason: err\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn TPromise.wrapError(err);\n\t\t});\n\t}\n}\n\ninterface ISuggestion2 extends modes.ISuggestion {\n\tid: string;\n}\n\nclass SuggestAdapter implements modes.ISuggestSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.CompletionItemProvider;\n\tprivate _cache: { [key: string]: CompletionList } = Object.create(null);\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.CompletionItemProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tsuggest(resource: URI, position: IPosition): TPromise<modes.ISuggestResult[]> {\n\n\t\tconst doc = this._documents.getDocumentData(resource).document;\n\t\tconst pos = TypeConverters.toPosition(position);\n\t\tconst ran = doc.getWordRangeAtPosition(pos);\n\n\t\tconst key = resource.toString();\n\t\tdelete this._cache[key];\n\n\t\treturn asWinJsPromise<vscode.CompletionItem[]|vscode.CompletionList>(token => this._provider.provideCompletionItems(doc, pos, token)).then(value => {\n\n\t\t\tlet defaultSuggestions: modes.ISuggestResult = {\n\t\t\t\tsuggestions: [],\n\t\t\t\tcurrentWord: ran ? doc.getText(new Range(ran.start.line, ran.start.character, pos.line, pos.character)) : '',\n\t\t\t};\n\t\t\tlet allSuggestions: modes.ISuggestResult[] = [defaultSuggestions];\n\n\t\t\tlet list: CompletionList;\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tlist = new CompletionList(value);\n\t\t\t} else if (value instanceof CompletionList) {\n\t\t\t\tlist = value;\n\t\t\t\tdefaultSuggestions.incomplete = list.isIncomplete;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < list.items.length; i++) {\n\t\t\t\tconst item = list.items[i];\n\t\t\t\tconst suggestion = <ISuggestion2> TypeConverters.Suggest.from(<any>item);\n\n\t\t\t\tif (item.textEdit) {\n\n\t\t\t\t\tlet editRange = item.textEdit.range;\n\n\t\t\t\t\t// invalid text edit\n\t\t\t\t\tif (!editRange.isSingleLine || editRange.start.line !== pos.line) {\n\t\t\t\t\t\tconsole.warn('INVALID text edit, must be single line and on the same line');\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// insert the text of the edit and create a dedicated\n\t\t\t\t\t// suggestion-container with overwrite[Before|After]\n\t\t\t\t\tsuggestion.codeSnippet = item.textEdit.newText;\n\t\t\t\t\tsuggestion.overwriteBefore = pos.character - editRange.start.character;\n\t\t\t\t\tsuggestion.overwriteAfter = editRange.end.character - pos.character;\n\n\t\t\t\t\tallSuggestions.push({\n\t\t\t\t\t\tcurrentWord: doc.getText(<any>editRange),\n\t\t\t\t\t\tsuggestions: [suggestion],\n\t\t\t\t\t\tincomplete: list.isIncomplete\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tdefaultSuggestions.suggestions.push(suggestion);\n\t\t\t\t}\n\n\t\t\t\t// assign identifier to suggestion\n\t\t\t\tsuggestion.id = String(i);\n\t\t\t}\n\n\t\t\t// cache for details call\n\t\t\tthis._cache[key] = list;\n\n\t\t\treturn allSuggestions;\n\t\t});\n\t}\n\n\tgetSuggestionDetails(resource: URI, position: IPosition, suggestion: modes.ISuggestion): TPromise<modes.ISuggestion> {\n\t\tif (typeof this._provider.resolveCompletionItem !== 'function') {\n\t\t\treturn TPromise.as(suggestion);\n\t\t}\n\t\tlet list = this._cache[resource.toString()];\n\t\tif (!list) {\n\t\t\treturn TPromise.as(suggestion);\n\t\t}\n\t\tlet item = list.items[Number((<ISuggestion2> suggestion).id)];\n\t\tif (!item) {\n\t\t\treturn TPromise.as(suggestion);\n\t\t}\n\t\treturn asWinJsPromise(token => this._provider.resolveCompletionItem(item, token)).then(resolvedItem => {\n\t\t\treturn TypeConverters.Suggest.from(resolvedItem || item);\n\t\t});\n\t}\n\n\tgetTriggerCharacters(): string[] {\n\t\tthrow new Error('illegal state');\n\t}\n\tshouldShowEmptySuggestionList(): boolean {\n\t\tthrow new Error('illegal state');\n\t}\n\tshouldAutotriggerSuggest(context: modes.ILineContext, offset: number, triggeredByCharacter: string): boolean {\n\t\tthrow new Error('illegal state');\n\t}\n}\n\nclass ParameterHintsAdapter implements modes.IParameterHintsSupport {\n\n\tprivate _documents: ExtHostModelService;\n\tprivate _provider: vscode.SignatureHelpProvider;\n\n\tconstructor(documents: ExtHostModelService, provider: vscode.SignatureHelpProvider) {\n\t\tthis._documents = documents;\n\t\tthis._provider = provider;\n\t}\n\n\tgetParameterHints(resource: URI, position: IPosition, triggerCharacter?: string): TPromise<modes.IParameterHints> {\n\n\t\tconst doc = this._documents.getDocumentData(resource).document;\n\t\tconst pos = TypeConverters.toPosition(position);\n\n\t\treturn asWinJsPromise(token => this._provider.provideSignatureHelp(doc, pos, token)).then(value => {\n\t\t\tif (value instanceof SignatureHelp) {\n\t\t\t\treturn TypeConverters.SignatureHelp.from(value);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetParameterHintsTriggerCharacters(): string[] {\n\t\tthrow new Error('illegal state');\n\t}\n\n\tshouldTriggerParameterHints(context: modes.ILineContext, offset: number): boolean {\n\t\tthrow new Error('illegal state');\n\t}\n}\n\ntype Adapter = OutlineAdapter | CodeLensAdapter | DeclarationAdapter | ExtraInfoAdapter\n\t| OccurrencesAdapter | ReferenceAdapter | QuickFixAdapter | DocumentFormattingAdapter\n\t| RangeFormattingAdapter | OnTypeFormattingAdapter | NavigateTypeAdapter | RenameAdapter\n\t| SuggestAdapter | ParameterHintsAdapter;\n\n@Remotable.ExtHostContext('ExtHostLanguageFeatures')\nexport class ExtHostLanguageFeatures {\n\n\tprivate static _handlePool: number = 0;\n\n\tprivate _proxy: MainThreadLanguageFeatures;\n\tprivate _documents: ExtHostModelService;\n\tprivate _commands: ExtHostCommands;\n\tprivate _diagnostics: ExtHostDiagnostics;\n\tprivate _adapter: { [handle: number]: Adapter } = Object.create(null);\n\n\tconstructor( @IThreadService threadService: IThreadService) {\n\t\tthis._proxy = threadService.getRemotable(MainThreadLanguageFeatures);\n\t\tthis._documents = threadService.getRemotable(ExtHostModelService);\n\t\tthis._commands = threadService.getRemotable(ExtHostCommands);\n\t\tthis._diagnostics = threadService.getRemotable(ExtHostDiagnostics);\n\t}\n\n\tprivate _createDisposable(handle: number): Disposable {\n\t\treturn new Disposable(() => {\n\t\t\tdelete this._adapter[handle];\n\t\t\tthis._proxy.$unregister(handle);\n\t\t});\n\t}\n\n\tprivate _nextHandle(): number {\n\t\treturn ExtHostLanguageFeatures._handlePool++;\n\t}\n\n\tprivate _withAdapter<A, R>(handle: number, ctor: { new (...args: any[]): A }, callback: (adapter: A) => TPromise<R>): TPromise<R> {\n\t\tlet adapter = this._adapter[handle];\n\t\tif (!(adapter instanceof ctor)) {\n\t\t\treturn TPromise.wrapError(new Error('no adapter found'));\n\t\t}\n\t\treturn callback(<any> adapter);\n\t}\n\n\t// --- outline\n\n\tregisterDocumentSymbolProvider(selector: vscode.DocumentSelector, provider: vscode.DocumentSymbolProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new OutlineAdapter(this._documents, provider);\n\t\tthis._proxy.$registerOutlineSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$getOutline(handle: number, resource: URI): TPromise<modes.IOutlineEntry[]> {\n\t\treturn this._withAdapter(handle, OutlineAdapter, adapter => adapter.getOutline(resource));\n\t}\n\n\t// --- code lens\n\n\tregisterCodeLensProvider(selector: vscode.DocumentSelector, provider: vscode.CodeLensProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new CodeLensAdapter(this._documents, this._commands, provider);\n\t\tthis._proxy.$registerCodeLensSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$findCodeLensSymbols(handle: number, resource: URI): TPromise<modes.ICodeLensSymbol[]> {\n\t\treturn this._withAdapter(handle, CodeLensAdapter, adapter => adapter.findCodeLensSymbols(resource));\n\t}\n\n\t$resolveCodeLensSymbol(handle: number, resource: URI, symbol: modes.ICodeLensSymbol): TPromise<modes.ICodeLensSymbol> {\n\t\treturn this._withAdapter(handle, CodeLensAdapter, adapter => adapter.resolveCodeLensSymbol(resource, symbol));\n\t}\n\n\t// --- declaration\n\n\tregisterDefinitionProvider(selector: vscode.DocumentSelector, provider: vscode.DefinitionProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new DeclarationAdapter(this._documents, provider);\n\t\tthis._proxy.$registerDeclaractionSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$findDeclaration(handle: number, resource: URI, position: IPosition): TPromise<modes.IReference[]> {\n\t\treturn this._withAdapter(handle, DeclarationAdapter, adapter => adapter.findDeclaration(resource, position));\n\t}\n\n\t// --- extra info\n\n\tregisterHoverProvider(selector: vscode.DocumentSelector, provider: vscode.HoverProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new ExtraInfoAdapter(this._documents, provider);\n\t\tthis._proxy.$registerExtraInfoSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$computeInfo(handle: number, resource: URI, position: IPosition): TPromise<modes.IComputeExtraInfoResult> {\n\t\treturn this._withAdapter(handle, ExtraInfoAdapter, adpater => adpater.computeInfo(resource, position));\n\t}\n\n\t// --- occurrences\n\n\tregisterDocumentHighlightProvider(selector: vscode.DocumentSelector, provider: vscode.DocumentHighlightProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new OccurrencesAdapter(this._documents, provider);\n\t\tthis._proxy.$registerOccurrencesSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$findOccurrences(handle: number, resource: URI, position: IPosition): TPromise<modes.IOccurence[]> {\n\t\treturn this._withAdapter(handle, OccurrencesAdapter, adapter => adapter.findOccurrences(resource, position));\n\t}\n\n\t// --- references\n\n\tregisterReferenceProvider(selector: vscode.DocumentSelector, provider: vscode.ReferenceProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new ReferenceAdapter(this._documents, provider);\n\t\tthis._proxy.$registerReferenceSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$findReferences(handle: number, resource: URI, position: IPosition, includeDeclaration: boolean): TPromise<modes.IReference[]> {\n\t\treturn this._withAdapter(handle, ReferenceAdapter, adapter => adapter.findReferences(resource, position, includeDeclaration));\n\t}\n\n\t// --- quick fix\n\n\tregisterCodeActionProvider(selector: vscode.DocumentSelector, provider: vscode.CodeActionProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new QuickFixAdapter(this._documents, this._commands, this._diagnostics, provider);\n\t\tthis._proxy.$registerQuickFixSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$getQuickFixes(handle: number, resource: URI, range: IRange): TPromise<modes.IQuickFix[]> {\n\t\treturn this._withAdapter(handle, QuickFixAdapter, adapter => adapter.getQuickFixes(resource, range));\n\t}\n\n\t$runQuickFixAction(handle: number, resource: URI, range: IRange, quickFix: modes.IQuickFix): any {\n\t\treturn this._withAdapter(handle, QuickFixAdapter, adapter => adapter.runQuickFixAction(resource, range, quickFix));\n\t}\n\n\t// --- formatting\n\n\tregisterDocumentFormattingEditProvider(selector: vscode.DocumentSelector, provider: vscode.DocumentFormattingEditProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new DocumentFormattingAdapter(this._documents, provider);\n\t\tthis._proxy.$registerDocumentFormattingSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$formatDocument(handle: number, resource: URI, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> {\n\t\treturn this._withAdapter(handle, DocumentFormattingAdapter, adapter => adapter.formatDocument(resource, options));\n\t}\n\n\tregisterDocumentRangeFormattingEditProvider(selector: vscode.DocumentSelector, provider: vscode.DocumentRangeFormattingEditProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new RangeFormattingAdapter(this._documents, provider);\n\t\tthis._proxy.$registerRangeFormattingSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$formatRange(handle: number, resource: URI, range: IRange, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> {\n\t\treturn this._withAdapter(handle, RangeFormattingAdapter, adapter => adapter.formatRange(resource, range, options));\n\t}\n\n\tregisterOnTypeFormattingEditProvider(selector: vscode.DocumentSelector, provider: vscode.OnTypeFormattingEditProvider, triggerCharacters: string[]): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new OnTypeFormattingAdapter(this._documents, provider);\n\t\tthis._proxy.$registerOnTypeFormattingSupport(handle, selector, triggerCharacters);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$formatAfterKeystroke(handle: number, resource: URI, position: IPosition, ch: string, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> {\n\t\treturn this._withAdapter(handle, OnTypeFormattingAdapter, adapter => adapter.formatAfterKeystroke(resource, position, ch, options));\n\t}\n\n\t// --- navigate types\n\n\tregisterWorkspaceSymbolProvider(provider: vscode.WorkspaceSymbolProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new NavigateTypeAdapter(provider);\n\t\tthis._proxy.$registerNavigateTypeSupport(handle);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$getNavigateToItems(handle: number, search: string): TPromise<ITypeBearing[]> {\n\t\treturn this._withAdapter(handle, NavigateTypeAdapter, adapter => adapter.getNavigateToItems(search));\n\t}\n\n\t// --- rename\n\n\tregisterRenameProvider(selector: vscode.DocumentSelector, provider: vscode.RenameProvider): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new RenameAdapter(this._documents, provider);\n\t\tthis._proxy.$registerRenameSupport(handle, selector);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$rename(handle: number, resource: URI, position: IPosition, newName: string): TPromise<modes.IRenameResult> {\n\t\treturn this._withAdapter(handle, RenameAdapter, adapter => adapter.rename(resource, position, newName));\n\t}\n\n\t// --- suggestion\n\n\tregisterCompletionItemProvider(selector: vscode.DocumentSelector, provider: vscode.CompletionItemProvider, triggerCharacters: string[]): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new SuggestAdapter(this._documents, provider);\n\t\tthis._proxy.$registerSuggestSupport(handle, selector, triggerCharacters);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$suggest(handle: number, resource: URI, position: IPosition): TPromise<modes.ISuggestResult[]> {\n\t\treturn this._withAdapter(handle, SuggestAdapter, adapter => adapter.suggest(resource, position));\n\t}\n\n\t$getSuggestionDetails(handle: number, resource: URI, position: IPosition, suggestion: modes.ISuggestion): TPromise<modes.ISuggestion> {\n\t\treturn this._withAdapter(handle, SuggestAdapter, adapter => adapter.getSuggestionDetails(resource, position, suggestion));\n\t}\n\n\t// --- parameter hints\n\n\tregisterSignatureHelpProvider(selector: vscode.DocumentSelector, provider: vscode.SignatureHelpProvider, triggerCharacters: string[]): vscode.Disposable {\n\t\tconst handle = this._nextHandle();\n\t\tthis._adapter[handle] = new ParameterHintsAdapter(this._documents, provider);\n\t\tthis._proxy.$registerParameterHintsSupport(handle, selector, triggerCharacters);\n\t\treturn this._createDisposable(handle);\n\t}\n\n\t$getParameterHints(handle: number, resource: URI, position: IPosition, triggerCharacter?: string): TPromise<modes.IParameterHints> {\n\t\treturn this._withAdapter(handle, ParameterHintsAdapter, adapter => adapter.getParameterHints(resource, position, triggerCharacter));\n\t}\n}\n\n@Remotable.MainContext('MainThreadLanguageFeatures')\nexport class MainThreadLanguageFeatures {\n\n\tprivate _proxy: ExtHostLanguageFeatures;\n\tprivate _registrations: { [handle: number]: IDisposable; } = Object.create(null);\n\n\tconstructor( @IThreadService threadService: IThreadService) {\n\t\tthis._proxy = threadService.getRemotable(ExtHostLanguageFeatures);\n\t}\n\n\t$unregister(handle: number): TPromise<any> {\n\t\tlet registration = this._registrations[handle];\n\t\tif (registration) {\n\t\t\tregistration.dispose();\n\t\t\tdelete this._registrations[handle];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t// --- outline\n\n\t$registerOutlineSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.OutlineRegistry.register(selector, <modes.IOutlineSupport>{\n\t\t\tgetOutline: (resource: URI): TPromise<modes.IOutlineEntry[]> => {\n\t\t\t\treturn this._proxy.$getOutline(handle, resource);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- code lens\n\n\t$registerCodeLensSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.CodeLensRegistry.register(selector, <modes.ICodeLensSupport>{\n\t\t\tfindCodeLensSymbols: (resource: URI): TPromise<modes.ICodeLensSymbol[]> => {\n\t\t\t\treturn this._proxy.$findCodeLensSymbols(handle, resource);\n\t\t\t},\n\t\t\tresolveCodeLensSymbol: (resource: URI, symbol: modes.ICodeLensSymbol): TPromise<modes.ICodeLensSymbol> => {\n\t\t\t\treturn this._proxy.$resolveCodeLensSymbol(handle, resource, symbol);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- declaration\n\n\t$registerDeclaractionSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.DeclarationRegistry.register(selector, <modes.IDeclarationSupport>{\n\t\t\tcanFindDeclaration() {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfindDeclaration: (resource: URI, position: IPosition): TPromise<modes.IReference[]> => {\n\t\t\t\treturn this._proxy.$findDeclaration(handle, resource, position);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- extra info\n\n\t$registerExtraInfoSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.ExtraInfoRegistry.register(selector, <modes.IExtraInfoSupport>{\n\t\t\tcomputeInfo: (resource: URI, position: IPosition): TPromise<modes.IComputeExtraInfoResult> => {\n\t\t\t\treturn this._proxy.$computeInfo(handle, resource, position);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- occurrences\n\n\t$registerOccurrencesSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.OccurrencesRegistry.register(selector, <modes.IOccurrencesSupport>{\n\t\t\tfindOccurrences: (resource: URI, position: IPosition): TPromise<modes.IOccurence[]> => {\n\t\t\t\treturn this._proxy.$findOccurrences(handle, resource, position);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- references\n\n\t$registerReferenceSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.ReferenceSearchRegistry.register(selector, <modes.IReferenceSupport>{\n\t\t\tcanFindReferences() {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfindReferences: (resource: URI, position: IPosition, includeDeclaration: boolean): TPromise<modes.IReference[]> => {\n\t\t\t\treturn this._proxy.$findReferences(handle, resource, position, includeDeclaration);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- quick fix\n\n\t$registerQuickFixSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.QuickFixRegistry.register(selector, <modes.IQuickFixSupport>{\n\t\t\tgetQuickFixes: (resource: URI, range: IRange): TPromise<modes.IQuickFix[]> => {\n\t\t\t\treturn this._proxy.$getQuickFixes(handle, resource, range);\n\t\t\t},\n\t\t\trunQuickFixAction: (resource: URI, range: IRange, quickFix: modes.IQuickFix) => {\n\t\t\t\treturn this._proxy.$runQuickFixAction(handle, resource, range, quickFix);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- formatting\n\n\t$registerDocumentFormattingSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.FormatRegistry.register(selector, <modes.IFormattingSupport>{\n\t\t\tformatDocument: (resource: URI, options: modes.IFormattingOptions): TPromise <ISingleEditOperation[] > => {\n\t\t\t\treturn this._proxy.$formatDocument(handle, resource, options);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t$registerRangeFormattingSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.FormatRegistry.register(selector, <modes.IFormattingSupport>{\n\t\t\tformatRange: (resource: URI, range: IRange, options: modes.IFormattingOptions): TPromise <ISingleEditOperation[] > => {\n\t\t\t\treturn this._proxy.$formatRange(handle, resource, range, options);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t$registerOnTypeFormattingSupport(handle: number, selector: vscode.DocumentSelector, autoFormatTriggerCharacters: string[]): TPromise<any> {\n\t\tthis._registrations[handle] = modes.FormatOnTypeRegistry.register(selector, <modes.IFormattingSupport>{\n\n\t\t\tautoFormatTriggerCharacters,\n\n\t\t\tformatAfterKeystroke: (resource: URI, position: IPosition, ch: string, options: modes.IFormattingOptions): TPromise<ISingleEditOperation[]> => {\n\t\t\t\treturn this._proxy.$formatAfterKeystroke(handle, resource, position, ch, options);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- navigate type\n\n\t$registerNavigateTypeSupport(handle: number): TPromise<any> {\n\t\tthis._registrations[handle] = NavigateTypesSupportRegistry.register(<INavigateTypesSupport>{\n\t\t\tgetNavigateToItems: (search: string): TPromise<ITypeBearing[]> => {\n\t\t\t\treturn this._proxy.$getNavigateToItems(handle, search);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- rename\n\n\t$registerRenameSupport(handle: number, selector: vscode.DocumentSelector): TPromise<any> {\n\t\tthis._registrations[handle] = modes.RenameRegistry.register(selector, <modes.IRenameSupport>{\n\t\t\trename: (resource: URI, position: IPosition, newName: string): TPromise<modes.IRenameResult> => {\n\t\t\t\treturn this._proxy.$rename(handle, resource, position, newName);\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- suggest\n\n\t$registerSuggestSupport(handle: number, selector: vscode.DocumentSelector, triggerCharacters: string[]): TPromise<any> {\n\t\tthis._registrations[handle] = modes.SuggestRegistry.register(selector, <modes.ISuggestSupport>{\n\t\t\tsuggest: (resource: URI, position: IPosition, triggerCharacter?: string): TPromise<modes.ISuggestResult[]> => {\n\t\t\t\treturn this._proxy.$suggest(handle, resource, position);\n\t\t\t},\n\t\t\tgetSuggestionDetails: (resource: URI, position: IPosition, suggestion: modes.ISuggestion): TPromise<modes.ISuggestion> => {\n\t\t\t\treturn this._proxy.$getSuggestionDetails(handle, resource, position, suggestion);\n\t\t\t},\n\t\t\tgetTriggerCharacters(): string[] {\n\t\t\t\treturn triggerCharacters;\n\t\t\t},\n\t\t\tshouldShowEmptySuggestionList(): boolean {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tshouldAutotriggerSuggest(): boolean {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n\n\t// --- parameter hints\n\n\t$registerParameterHintsSupport(handle: number, selector: vscode.DocumentSelector, triggerCharacter: string[]): TPromise<any> {\n\t\tthis._registrations[handle] = modes.ParameterHintsRegistry.register(selector, <modes.IParameterHintsSupport>{\n\t\t\tgetParameterHints: (resource: URI, position: IPosition, triggerCharacter?: string): TPromise<modes.IParameterHints> => {\n\t\t\t\treturn this._proxy.$getParameterHints(handle, resource, position, triggerCharacter);\n\t\t\t},\n\t\t\tgetParameterHintsTriggerCharacters(): string[] {\n\t\t\t\treturn triggerCharacter;\n\t\t\t},\n\t\t\tshouldTriggerParameterHints(context: modes.ILineContext, offset: number): boolean {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\treturn undefined;\n\t}\n}\n"]}