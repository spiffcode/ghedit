{"version":3,"sources":["vs/workbench/parts/debug/common/debugModel.ts"],"names":[],"mappings":"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","file":"vs/workbench/parts/debug/common/debugModel.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TPromise } from 'vs/base/common/winjs.base';\nimport nls = require('vs/nls');\nimport lifecycle = require('vs/base/common/lifecycle');\nimport ee = require('vs/base/common/eventEmitter');\nimport uuid = require('vs/base/common/uuid');\nimport severity from 'vs/base/common/severity';\nimport types = require('vs/base/common/types');\nimport arrays = require('vs/base/common/arrays');\nimport debug = require('vs/workbench/parts/debug/common/debug');\nimport { Source } from 'vs/workbench/parts/debug/common/debugSource';\n\nconst MAX_REPL_LENGTH = 10000;\n\nfunction resolveChildren(debugService: debug.IDebugService, parent: debug.IExpressionContainer): TPromise<Variable[]> {\n\tconst session = debugService.getActiveSession();\n\t// only variables with reference > 0 have children.\n\tif (!session || parent.reference <= 0) {\n\t\treturn TPromise.as([]);\n\t}\n\n\treturn session.variables({ variablesReference: parent.reference }).then(response => {\n\t\treturn arrays.distinct(response.body.variables.filter(v => !!v), v => v.name).map(\n\t\t\tv => new Variable(parent, v.variablesReference, v.name, v.value)\n\t\t);\n\t}, (e: Error) => [new Variable(parent, 0, null, e.message, false)]);\n}\n\nfunction massageValue(value: string): string {\n\treturn value ? value.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t') : value;\n}\n\nexport function evaluateExpression(session: debug.IRawDebugSession, stackFrame: debug.IStackFrame, expression: Expression, context: string): TPromise<Expression> {\n\tif (!session) {\n\t\texpression.value = context === 'repl' ? nls.localize('startDebugFirst', \"Please start a debug session to evaluate\") : Expression.DEFAULT_VALUE;\n\t\texpression.available = false;\n\t\texpression.reference = 0;\n\t\treturn TPromise.as(expression);\n\t}\n\n\treturn session.evaluate({\n\t\texpression: expression.name,\n\t\tframeId: stackFrame ? stackFrame.frameId : undefined,\n\t\tcontext\n\t}).then(response => {\n\t\texpression.available = !!response.body;\n\t\tif (response.body) {\n\t\t\texpression.value = response.body.result;\n\t\t\texpression.reference = response.body.variablesReference;\n\t\t}\n\n\t\treturn expression;\n\t}, err => {\n\t\texpression.value = err.message;\n\t\texpression.available = false;\n\t\texpression.reference = 0;\n\n\t\treturn expression;\n\t});\n}\n\nconst notPropertySyntax = /^[a-zA-Z_][a-zA-Z0-9_]*$/;\nconst arrayElementSyntax = /\\[.*\\]$/;\n\nexport function getFullExpressionName(expression: debug.IExpression, sessionType: string): string {\n\tlet names = [expression.name];\n\tif (expression instanceof Variable) {\n\t\tlet v = (<Variable> expression).parent;\n\t\twhile (v instanceof Variable || v instanceof Expression) {\n\t\t\tnames.push((<Variable> v).name);\n\t\t\tv = (<Variable> v).parent;\n\t\t}\n\t}\n\tnames = names.reverse();\n\n\tlet result = null;\n\tnames.forEach(name => {\n\t\tif (!result) {\n\t\t\tresult = name;\n\t\t} else if (arrayElementSyntax.test(name) || (sessionType === 'node' && !notPropertySyntax.test(name))) {\n\t\t\t// use safe way to access node properties a['property_name']. Also handles array elements.\n\t\t\tresult = name && name.indexOf('[') === 0 ? `${ result }${ name }` : `${ result }['${ name }']`;\n\t\t} else {\n\t\t\tresult = `${ result }.${ name }`;\n\t\t}\n\t});\n\n\treturn result;\n}\n\nexport class Thread implements debug.IThread {\n\tprivate promisedCallStack: TPromise<debug.IStackFrame[]>;\n\tprivate cachedCallStack: debug.IStackFrame[];\n\tpublic stoppedDetails: debug.IRawStoppedDetails;\n\tpublic stopped: boolean;\n\n\tconstructor(public name: string, public threadId: number) {\n\t\tthis.promisedCallStack = undefined;\n\t\tthis.stoppedDetails = undefined;\n\t\tthis.cachedCallStack = undefined;\n\t\tthis.stopped = false;\n\t}\n\n\tpublic getId(): string {\n\t\treturn `thread:${ this.name }:${ this.threadId }`;\n\t}\n\n\tpublic clearCallStack(): void {\n\t\tthis.promisedCallStack = undefined;\n\t\tthis.cachedCallStack = undefined;\n\t}\n\n\tpublic getCachedCallStack(): debug.IStackFrame[] {\n\t\treturn this.cachedCallStack;\n\t}\n\n\tpublic getCallStack(debugService: debug.IDebugService, getAdditionalStackFrames = false): TPromise<debug.IStackFrame[]> {\n\t\tif (!this.stopped) {\n\t\t\treturn TPromise.as([]);\n\t\t}\n\n\t\tif (!this.promisedCallStack) {\n\t\t\tthis.promisedCallStack = this.getCallStackImpl(debugService, 0).then(callStack => {\n\t\t\t\tthis.cachedCallStack = callStack;\n\t\t\t\treturn callStack;\n\t\t\t});\n\t\t} else if (getAdditionalStackFrames) {\n\t\t\tthis.promisedCallStack = this.promisedCallStack.then(callStackFirstPart => this.getCallStackImpl(debugService, callStackFirstPart.length).then(callStackSecondPart => {\n\t\t\t\tthis.cachedCallStack = callStackFirstPart.concat(callStackSecondPart);\n\t\t\t\treturn this.cachedCallStack;\n\t\t\t}));\n\t\t}\n\n\t\treturn this.promisedCallStack;\n\t}\n\n\tprivate getCallStackImpl(debugService: debug.IDebugService, startFrame: number): TPromise<debug.IStackFrame[]> {\n\t\tlet session = debugService.getActiveSession();\n\t\treturn session.stackTrace({ threadId: this.threadId, startFrame, levels: 20 }).then(response => {\n\t\t\tthis.stoppedDetails.totalFrames = response.body.totalFrames || response.body.stackFrames.length;\n\t\t\treturn response.body.stackFrames.map((rsf, level) => {\n\t\t\t\tif (!rsf) {\n\t\t\t\t\treturn new StackFrame(this.threadId, 0, new Source({ name: 'unknown' }, false), nls.localize('unknownStack', \"Unknown stack location\"), undefined, undefined);\n\t\t\t\t}\n\n\t\t\t\treturn new StackFrame(this.threadId, rsf.id, rsf.source ? new Source(rsf.source) : new Source({ name: 'unknown' }, false), rsf.name, rsf.line, rsf.column);\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport class OutputElement implements debug.ITreeElement {\n\n\tconstructor(private id = uuid.generateUuid()) {\n\t\t// noop\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n}\n\nexport class ValueOutputElement extends OutputElement {\n\n\tconstructor(public value: string, public severity: severity, public category?: string, public counter:number = 1) {\n\t\tsuper();\n\t}\n}\n\nexport class KeyValueOutputElement extends OutputElement {\n\n\tprivate static MAX_CHILDREN = 1000; // upper bound of children per value\n\n\tprivate children: debug.ITreeElement[];\n\tprivate _valueName: string;\n\n\tconstructor(public key: string, public valueObj: any, public annotation?: string) {\n\t\tsuper();\n\n\t\tthis._valueName = null;\n\t}\n\n\tpublic get value(): string {\n\t\tif (this._valueName === null) {\n\t\t\tif (this.valueObj === null) {\n\t\t\t\tthis._valueName = 'null';\n\t\t\t} else if (Array.isArray(this.valueObj)) {\n\t\t\t\tthis._valueName = `Array[${this.valueObj.length}]`;\n\t\t\t} else if (types.isObject(this.valueObj)) {\n\t\t\t\tthis._valueName = 'Object';\n\t\t\t} else if (types.isString(this.valueObj)) {\n\t\t\t\tthis._valueName = `\"${massageValue(this.valueObj)}\"`;\n\t\t\t} else {\n\t\t\t\tthis._valueName = String(this.valueObj);\n\t\t\t}\n\n\t\t\tif (!this._valueName) {\n\t\t\t\tthis._valueName = '';\n\t\t\t}\n\t\t}\n\n\t\treturn this._valueName;\n\t}\n\n\tpublic getChildren(): debug.ITreeElement[] {\n\t\tif (!this.children) {\n\t\t\tif (Array.isArray(this.valueObj)) {\n\t\t\t\tthis.children = (<any[]>this.valueObj).slice(0, KeyValueOutputElement.MAX_CHILDREN).map((v, index) => new KeyValueOutputElement(String(index), v, null));\n\t\t\t} else if (types.isObject(this.valueObj)) {\n\t\t\t\tthis.children = Object.getOwnPropertyNames(this.valueObj).slice(0, KeyValueOutputElement.MAX_CHILDREN).map(key => new KeyValueOutputElement(key, this.valueObj[key], null));\n\t\t\t} else {\n\t\t\t\tthis.children = [];\n\t\t\t}\n\t\t}\n\n\t\treturn this.children;\n\t}\n}\n\nexport class ExpressionContainer implements debug.IExpressionContainer {\n\n\tprivate children: TPromise<debug.IExpression[]>;\n\tpublic valueChanged: boolean;\n\tpublic static allValues: { [id: string]: string } = {};\n\n\tconstructor(public reference: number, private id: string, private cacheChildren: boolean) {\n\t\tthis.children = null;\n\t}\n\n\tpublic getChildren(debugService: debug.IDebugService): TPromise<debug.IExpression[]> {\n\t\tif (!this.cacheChildren) {\n\t\t\treturn resolveChildren(debugService, this);\n\t\t}\n\t\tif (!this.children) {\n\t\t\tthis.children = resolveChildren(debugService, this);\n\t\t}\n\n\t\treturn this.children;\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n\n}\n\nexport class Expression extends ExpressionContainer implements debug.IExpression {\n\tstatic DEFAULT_VALUE = 'not available';\n\n\tpublic available: boolean;\n\tprivate _value: string;\n\n\tconstructor(public name: string, cacheChildren: boolean, id = uuid.generateUuid()) {\n\t\tsuper(0, id, cacheChildren);\n\t\tthis.value = Expression.DEFAULT_VALUE;\n\t\tthis.available = false;\n\t}\n\n\tpublic get value(): string {\n\t\treturn this._value;\n\t}\n\n\tpublic set value(value: string) {\n\t\tthis._value = massageValue(value);\n\t\tthis.valueChanged = ExpressionContainer.allValues[this.getId()] &&\n\t\t\tExpressionContainer.allValues[this.getId()] !== Expression.DEFAULT_VALUE && ExpressionContainer.allValues[this.getId()] !== value;\n\t\tExpressionContainer.allValues[this.getId()] = value;\n\t}\n}\n\nexport class Variable extends ExpressionContainer implements debug.IExpression {\n\n\tpublic value: string;\n\n\tconstructor(public parent: debug.IExpressionContainer, reference: number, public name: string, value: string, public available = true) {\n\t\tsuper(reference, `variable:${ parent.getId() }:${ name }`, true);\n\t\tthis.value = massageValue(value);\n\t\tthis.valueChanged = ExpressionContainer.allValues[this.getId()] && ExpressionContainer.allValues[this.getId()] !== value;\n\t\tExpressionContainer.allValues[this.getId()] = value;\n\t}\n}\n\nexport class Scope implements debug.IScope {\n\n\tprivate children: TPromise<Variable[]>;\n\n\tconstructor(private threadId: number, public name: string, public reference: number, public expensive: boolean) {\n\t\tthis.children = null;\n\t}\n\n\tpublic getId(): string {\n\t\treturn `scope:${ this.threadId }:${ this.name }:${ this.reference }`;\n\t}\n\n\tpublic getChildren(debugService: debug.IDebugService): TPromise<Variable[]> {\n\t\tif (!this.children) {\n\t\t\tthis.children = resolveChildren(debugService, this);\n\t\t}\n\n\t\treturn this.children;\n\t}\n}\n\nexport class StackFrame implements debug.IStackFrame {\n\n\tprivate internalId: string;\n\tprivate scopes: TPromise<Scope[]>;\n\n\tconstructor(public threadId: number, public frameId: number, public source: Source, public name: string, public lineNumber: number, public column: number) {\n\t\tthis.internalId = uuid.generateUuid();\n\t\tthis.scopes = null;\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.internalId;\n\t}\n\n\tpublic getScopes(debugService: debug.IDebugService): TPromise<debug.IScope[]> {\n\t\tif (!this.scopes) {\n\t\t\tthis.scopes = debugService.getActiveSession().scopes({ frameId: this.frameId }).then(response => {\n\t\t\t\treturn response.body.scopes.map(rs => new Scope(this.threadId, rs.name, rs.variablesReference, rs.expensive));\n\t\t\t}, err => []);\n\t\t}\n\n\t\treturn this.scopes;\n\t}\n}\n\nexport class Breakpoint implements debug.IBreakpoint {\n\n\tpublic lineNumber: number;\n\tpublic verified: boolean;\n\tpublic idFromAdapter: number;\n\tpublic message: string;\n\tprivate id: string;\n\n\tconstructor(public source: Source, public desiredLineNumber: number, public enabled: boolean, public condition: string) {\n\t\tif (enabled === undefined) {\n\t\t\tthis.enabled = true;\n\t\t}\n\t\tthis.lineNumber = this.desiredLineNumber;\n\t\tthis.verified = false;\n\t\tthis.id = uuid.generateUuid();\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n}\n\nexport class FunctionBreakpoint implements debug.IFunctionBreakpoint {\n\n\tprivate id: string;\n\tpublic verified: boolean;\n\tpublic idFromAdapter: number;\n\n\tconstructor(public name: string, public enabled: boolean) {\n\t\tthis.verified = false;\n\t\tthis.id = uuid.generateUuid();\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n}\n\nexport class ExceptionBreakpoint implements debug.IExceptionBreakpoint {\n\n\tprivate id: string;\n\n\tconstructor(public filter: string, public label: string, public enabled: boolean) {\n\t\tthis.id = uuid.generateUuid();\n\t}\n\n\tpublic getId(): string {\n\t\treturn this.id;\n\t}\n}\n\nexport class Model extends ee.EventEmitter implements debug.IModel {\n\n\tprivate threads: { [reference: number]: debug.IThread; };\n\tprivate toDispose: lifecycle.IDisposable[];\n\tprivate replElements: debug.ITreeElement[];\n\n\tconstructor(private breakpoints: debug.IBreakpoint[], private breakpointsActivated: boolean, private functionBreakpoints: debug.IFunctionBreakpoint[],\n\t\tprivate exceptionBreakpoints: debug.IExceptionBreakpoint[], private watchExpressions: Expression[]) {\n\n\t\tsuper();\n\t\tthis.threads = {};\n\t\tthis.replElements = [];\n\t\tthis.toDispose = [];\n\t}\n\n\tpublic getId(): string {\n\t\treturn 'root';\n\t}\n\n\tpublic getThreads(): { [reference: number]: debug.IThread; } {\n\t\treturn this.threads;\n\t}\n\n\tpublic clearThreads(removeThreads: boolean, reference: number = undefined): void {\n\t\tif (reference) {\n\t\t\tif (removeThreads) {\n\t\t\t\tdelete this.threads[reference];\n\t\t\t} else {\n\t\t\t\tthis.threads[reference].clearCallStack();\n\t\t\t\tthis.threads[reference].stoppedDetails = undefined;\n\t\t\t}\n\t\t} else {\n\t\t\tif (removeThreads) {\n\t\t\t\tthis.threads = {};\n\t\t\t\tExpressionContainer.allValues = {};\n\t\t\t} else {\n\t\t\t\tfor (let ref in this.threads) {\n\t\t\t\t\tif (this.threads.hasOwnProperty(ref)) {\n\t\t\t\t\t\tthis.threads[ref].clearCallStack();\n\t\t\t\t\t\tthis.threads[ref].stoppedDetails = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.emit(debug.ModelEvents.CALLSTACK_UPDATED);\n\t}\n\n\tpublic continueThreads(): void {\n\t\tfor (let ref in this.threads) {\n\t\t\tif (this.threads.hasOwnProperty(ref)) {\n\t\t\t\tthis.threads[ref].stopped = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.clearThreads(false);\n\t}\n\n\tpublic getBreakpoints(): debug.IBreakpoint[] {\n\t\treturn this.breakpoints;\n\t}\n\n\tpublic getFunctionBreakpoints(): debug.IFunctionBreakpoint[] {\n\t\treturn this.functionBreakpoints;\n\t}\n\n\tpublic getExceptionBreakpoints(): debug.IExceptionBreakpoint[] {\n\t\treturn this.exceptionBreakpoints;\n\t}\n\n\tpublic setExceptionBreakpoints(data: DebugProtocol.ExceptionBreakpointsFilter[]): void {\n\t\tif (data) {\n\t\t\tthis.exceptionBreakpoints = data.map(d => {\n\t\t\t\tconst ebp = this.exceptionBreakpoints.filter(ebp => ebp.filter === d.filter).pop();\n\t\t\t\treturn new ExceptionBreakpoint(d.filter, d.label, ebp ? ebp.enabled : d.default);\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic areBreakpointsActivated(): boolean {\n\t\treturn this.breakpointsActivated;\n\t}\n\n\tpublic toggleBreakpointsActivated(): void {\n\t\tthis.breakpointsActivated = !this.breakpointsActivated;\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic addBreakpoints(rawData: debug.IRawBreakpoint[]): void {\n\t\tthis.breakpoints = this.breakpoints.concat(rawData.map(rawBp =>\n\t\t\tnew Breakpoint(new Source(Source.toRawSource(rawBp.uri, this)), rawBp.lineNumber, rawBp.enabled, rawBp.condition)));\n\t\tthis.breakpointsActivated = true;\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic removeBreakpoints(toRemove: debug.IBreakpoint[]): void {\n\t\tthis.breakpoints = this.breakpoints.filter(bp => !toRemove.some(toRemove => toRemove.getId() === bp.getId()));\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic updateBreakpoints(data: { [id: string]: DebugProtocol.Breakpoint }): void {\n\t\tthis.breakpoints.forEach(bp => {\n\t\t\tconst bpData = data[bp.getId()];\n\t\t\tif (bpData) {\n\t\t\t\tbp.lineNumber = bpData.line ? bpData.line : bp.lineNumber;\n\t\t\t\tbp.verified = bpData.verified;\n\t\t\t\tbp.idFromAdapter = bpData.id;\n\t\t\t\tbp.message = bpData.message;\n\t\t\t}\n\t\t});\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic toggleEnablement(element: debug.IEnablement): void {\n\t\telement.enabled = !element.enabled;\n\t\tif (element instanceof Breakpoint && !element.enabled) {\n\t\t\tvar breakpoint = <Breakpoint> element;\n\t\t\tbreakpoint.lineNumber = breakpoint.desiredLineNumber;\n\t\t\tbreakpoint.verified = false;\n\t\t}\n\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic enableOrDisableAllBreakpoints(enabled: boolean): void {\n\t\tthis.breakpoints.forEach(bp => {\n\t\t\tbp.enabled = enabled;\n\t\t\tif (!enabled) {\n\t\t\t\tbp.lineNumber = bp.desiredLineNumber;\n\t\t\t\tbp.verified = false;\n\t\t\t}\n\t\t});\n\t\tthis.exceptionBreakpoints.forEach(ebp => ebp.enabled = enabled);\n\t\tthis.functionBreakpoints.forEach(fbp => fbp.enabled = enabled);\n\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic addFunctionBreakpoint(functionName: string): void {\n\t\tthis.functionBreakpoints.push(new FunctionBreakpoint(functionName, true));\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic updateFunctionBreakpoints(data: { [id: string]: { name?: string, verified?: boolean; id?: number } }): void {\n\t\tthis.functionBreakpoints.forEach(fbp => {\n\t\t\tconst fbpData = data[fbp.getId()];\n\t\t\tif (fbpData) {\n\t\t\t\tfbp.name = fbpData.name || fbp.name;\n\t\t\t\tfbp.verified = fbpData.verified;\n\t\t\t\tfbp.idFromAdapter = fbpData.id;\n\t\t\t}\n\t\t});\n\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic removeFunctionBreakpoints(id?: string): void {\n\t\tthis.functionBreakpoints = id ? this.functionBreakpoints.filter(fbp => fbp.getId() !== id) : [];\n\t\tthis.emit(debug.ModelEvents.BREAKPOINTS_UPDATED);\n\t}\n\n\tpublic getReplElements(): debug.ITreeElement[] {\n\t\treturn this.replElements;\n\t}\n\n\tpublic addReplExpression(session: debug.IRawDebugSession, stackFrame: debug.IStackFrame, name: string): TPromise<void> {\n\t\tconst expression = new Expression(name, true);\n\t\tthis.addReplElements([expression]);\n\t\treturn evaluateExpression(session, stackFrame, expression, 'repl').then(() =>\n\t\t\tthis.emit(debug.ModelEvents.REPL_ELEMENTS_UPDATED, expression)\n\t\t);\n\t}\n\n\tpublic logToRepl(value: string, severity?: severity): void;\n\tpublic logToRepl(value: { [key: string]: any }, severity?: severity): void;\n\tpublic logToRepl(value: any, severity?: severity): void {\n\t\tlet elements:OutputElement[] = [];\n\t\tlet previousOutput = this.replElements.length && (<ValueOutputElement>this.replElements[this.replElements.length - 1]);\n\n\t\t// string message\n\t\tif (typeof value === 'string') {\n\t\t\tif (value && value.trim() && previousOutput && previousOutput.value === value && previousOutput.severity === severity) {\n\t\t\t\tpreviousOutput.counter++; // we got the same output (but not an empty string when trimmed) so we just increment the counter\n\t\t\t} else {\n\t\t\t\tlet lines = value.trim().split('\\n');\n\t\t\t\tlines.forEach((line, index) => {\n\t\t\t\t\telements.push(new ValueOutputElement(line, severity));\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// key-value output\n\t\telse {\n\t\t\telements.push(new KeyValueOutputElement(value.prototype, value, nls.localize('snapshotObj', \"Only primitive values are shown for this object.\")));\n\t\t}\n\n\t\tif (elements.length) {\n\t\t\tthis.addReplElements(elements);\n\t\t\tthis.emit(debug.ModelEvents.REPL_ELEMENTS_UPDATED, elements);\n\t\t}\n\t}\n\n\tpublic appendReplOutput(value: string, severity?: severity): void {\n\t\tconst elements: OutputElement[] = [];\n\t\tlet previousOutput = this.replElements.length && (<ValueOutputElement>this.replElements[this.replElements.length - 1]);\n\t\tlet lines = value.split('\\n');\n\t\tlet groupTogether = !!previousOutput && (previousOutput.category === 'output' && severity === previousOutput.severity);\n\n\t\tif (groupTogether) {\n\t\t\t// append to previous line if same group\n\t\t\tpreviousOutput.value += lines.shift();\n\t\t} else if (previousOutput && previousOutput.value === '') {\n\t\t\t// remove potential empty lines between different output types\n\t\t\tthis.replElements.pop();\n\t\t}\n\n\t\t// fill in lines as output value elements\n\t\tlines.forEach((line, index) => {\n\t\t\telements.push(new ValueOutputElement(line, severity, 'output'));\n\t\t});\n\n\t\tthis.addReplElements(elements);\n\t\tthis.emit(debug.ModelEvents.REPL_ELEMENTS_UPDATED, elements);\n\t}\n\n\tprivate addReplElements(newElements: debug.ITreeElement[]): void {\n\t\tthis.replElements.push(...newElements);\n\t\tif (this.replElements.length > MAX_REPL_LENGTH) {\n\t\t\tthis.replElements.splice(0, this.replElements.length - MAX_REPL_LENGTH);\n\t\t}\n\t}\n\n\tpublic clearReplExpressions(): void {\n\t\tif (this.replElements.length > 0) {\n\t\t\tthis.replElements = [];\n\t\t\tthis.emit(debug.ModelEvents.REPL_ELEMENTS_UPDATED);\n\t\t}\n\t}\n\n\tpublic getWatchExpressions(): Expression[] {\n\t\treturn this.watchExpressions;\n\t}\n\n\tpublic addWatchExpression(session: debug.IRawDebugSession, stackFrame: debug.IStackFrame, name: string): TPromise<void> {\n\t\tconst we = new Expression(name, false);\n\t\tthis.watchExpressions.push(we);\n\t\tif (!name) {\n\t\t\tthis.emit(debug.ModelEvents.WATCH_EXPRESSIONS_UPDATED, we);\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\treturn this.evaluateWatchExpressions(session, stackFrame, we.getId());\n\t}\n\n\tpublic renameWatchExpression(session: debug.IRawDebugSession, stackFrame: debug.IStackFrame, id: string, newName: string): TPromise<void> {\n\t\tconst filtered = this.watchExpressions.filter(we => we.getId() === id);\n\t\tif (filtered.length === 1) {\n\t\t\tfiltered[0].name = newName;\n\t\t\treturn evaluateExpression(session, stackFrame, filtered[0], 'watch').then(() => {\n\t\t\t\tthis.emit(debug.ModelEvents.WATCH_EXPRESSIONS_UPDATED, filtered[0]);\n\t\t\t});\n\t\t}\n\n\t\treturn TPromise.as(null);\n\t}\n\n\tpublic evaluateWatchExpressions(session: debug.IRawDebugSession, stackFrame: debug.IStackFrame, id: string = null): TPromise<void> {\n\t\tif (id) {\n\t\t\tconst filtered = this.watchExpressions.filter(we => we.getId() === id);\n\t\t\tif (filtered.length !== 1) {\n\t\t\t\treturn TPromise.as(null);\n\t\t\t}\n\n\t\t\treturn evaluateExpression(session, stackFrame, filtered[0], 'watch').then(() => {\n\t\t\t\tthis.emit(debug.ModelEvents.WATCH_EXPRESSIONS_UPDATED, filtered[0]);\n\t\t\t});\n\t\t}\n\n\t\treturn TPromise.join(this.watchExpressions.map(we => evaluateExpression(session, stackFrame, we, 'watch'))).then(() => {\n\t\t\tthis.emit(debug.ModelEvents.WATCH_EXPRESSIONS_UPDATED);\n\t\t});\n\t}\n\n\tpublic clearWatchExpressionValues(): void {\n\t\tthis.watchExpressions.forEach(we => {\n\t\t\twe.value = Expression.DEFAULT_VALUE;\n\t\t\twe.available = false;\n\t\t\twe.reference = 0;\n\t\t});\n\n\t\tthis.emit(debug.ModelEvents.WATCH_EXPRESSIONS_UPDATED);\n\t}\n\n\tpublic clearWatchExpressions(id: string = null): void {\n\t\tthis.watchExpressions = id ? this.watchExpressions.filter(we => we.getId() !== id) : [];\n\t\tthis.emit(debug.ModelEvents.WATCH_EXPRESSIONS_UPDATED);\n\t}\n\n\tpublic sourceIsUnavailable(source: Source): void {\n\t\tObject.keys(this.threads).forEach(key => {\n\t\t\tif (this.threads[key].getCachedCallStack()) {\n\t\t\t\tthis.threads[key].getCachedCallStack().forEach(stackFrame => {\n\t\t\t\t\tif (stackFrame.source.uri.toString() === source.uri.toString()) {\n\t\t\t\t\t\tstackFrame.source.available = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tthis.emit(debug.ModelEvents.CALLSTACK_UPDATED);\n\t}\n\n\tpublic rawUpdate(data: debug.IRawModelUpdate): void {\n\t\tif (data.thread) {\n\t\t\tthis.threads[data.threadId] = new Thread(data.thread.name, data.thread.id);\n\t\t}\n\n\t\tif (data.stoppedDetails) {\n\t\t\t// Set the availability of the threads' callstacks depending on\n\t\t\t// whether the thread is stopped or not\n\t\t\tfor (let ref in this.threads) {\n\t\t\t\tif (this.threads.hasOwnProperty(ref)) {\n\t\t\t\t\tif (data.allThreadsStopped) {\n\t\t\t\t\t\t// Only update the details if all the threads are stopped\n\t\t\t\t\t\t// because we don't want to overwrite the details of other\n\t\t\t\t\t\t// threads that have stopped for a different reason\n\t\t\t\t\t\tthis.threads[ref].stoppedDetails = data.stoppedDetails;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.threads[ref].stopped = data.allThreadsStopped;\n\t\t\t\t\tthis.threads[ref].clearCallStack();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.threads[data.threadId].stoppedDetails = data.stoppedDetails;\n\t\t\tthis.threads[data.threadId].stopped = true;\n\t\t}\n\n\t\tthis.emit(debug.ModelEvents.CALLSTACK_UPDATED);\n\t}\n\n\tpublic dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.threads = null;\n\t\tthis.breakpoints = null;\n\t\tthis.exceptionBreakpoints = null;\n\t\tthis.functionBreakpoints = null;\n\t\tthis.watchExpressions = null;\n\t\tthis.replElements = null;\n\t\tthis.toDispose = lifecycle.dispose(this.toDispose);\n\t}\n}\n"]}