{"version":3,"sources":["vs/workbench/parts/git/browser/gitActions.ts"],"names":[],"mappings":"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","file":"vs/workbench/parts/git/browser/gitActions.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport { Promise, TPromise } from 'vs/base/common/winjs.base';\nimport nls = require('vs/nls');\nimport { IEventEmitter } from 'vs/base/common/eventEmitter';\nimport { ITree } from 'vs/base/parts/tree/browser/tree';\nimport { IDisposable, dispose } from 'vs/base/common/lifecycle';\nimport strings = require('vs/base/common/strings');\nimport { isString } from 'vs/base/common/types';\nimport { Action } from 'vs/base/common/actions';\nimport { IDiffEditor, ICodeEditor } from 'vs/editor/browser/editorBrowser';\nimport model = require('vs/workbench/parts/git/common/gitModel');\nimport inputs = require('vs/workbench/parts/git/browser/gitEditorInputs');\nimport { TextDiffEditorOptions } from 'vs/workbench/common/editor';\nimport errors = require('vs/base/common/errors');\nimport platform = require('vs/base/common/platform');\nimport { IWorkbenchEditorService } from 'vs/workbench/services/editor/common/editorService';\nimport { IWorkspaceContextService } from 'vs/workbench/services/workspace/common/contextService';\nimport { IEditor } from 'vs/platform/editor/common/editor';\nimport { IEventService } from 'vs/platform/event/common/event';\nimport { IFileService, IFileStat } from 'vs/platform/files/common/files';\nimport { IMessageService, IConfirmation } from 'vs/platform/message/common/message';\nimport Severity from 'vs/base/common/severity';\nimport { IGitService, IFileStatus, Status, StatusType, ServiceState,\n\tIModel, IBranch, GitErrorCodes, ServiceOperations }\n\tfrom 'vs/workbench/parts/git/common/git';\nimport { IQuickOpenService } from 'vs/workbench/services/quickopen/common/quickOpenService';\nimport paths = require('vs/base/common/paths');\nimport URI from 'vs/base/common/uri';\n\nfunction flatten(context?: any, preferFocus = false): IFileStatus[] {\n\tif (!context) {\n\t\treturn context;\n\n\t} else if (Array.isArray(context)) {\n\t\tif (context.some((c: any) => !(c instanceof model.FileStatus))) {\n\t\t\tthrow new Error('Invalid context.');\n\t\t}\n\t\treturn context;\n\n\t} else if (context instanceof model.FileStatus) {\n\t\treturn [<model.FileStatus> context];\n\n\t} else if (context instanceof model.StatusGroup) {\n\t\treturn (<model.StatusGroup> context).all();\n\n\t} else if (context.tree) {\n\t\tvar elements = (<ITree> context.tree).getSelection();\n\t\treturn elements.indexOf(context.fileStatus) > -1 ? elements : [context.fileStatus];\n\n\t} else if (context.selection) {\n\t\treturn !preferFocus && context.selection.indexOf(context.focus) > -1 ? context.selection : [context.focus];\n\n\t} else {\n\t\tthrow new Error('Invalid context.');\n\t}\n}\n\nexport abstract class GitAction extends Action {\n\n\tprotected gitService: IGitService;\n\tprotected toDispose: IDisposable[];\n\n\tconstructor(id: string, label: string, cssClass: string, gitService: IGitService) {\n\t\tsuper(id, label, cssClass, false);\n\n\t\tthis.gitService = gitService;\n\t\tthis.toDispose = [this.gitService.addBulkListener2(() => this.onGitServiceChange())];\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected onGitServiceChange(): void {\n\t\tthis.updateEnablement();\n\t}\n\n\tprotected updateEnablement(): void {\n\t\tthis.enabled = this.isEnabled();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn !!this.gitService;\n\t}\n\n\tpublic abstract run(e?: any):Promise;\n\n\tpublic dispose(): void {\n\t\tthis.gitService = null;\n\t\tthis.toDispose = dispose(this.toDispose);\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class OpenChangeAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.openChange';\n\tprotected editorService: IWorkbenchEditorService;\n\n\tconstructor(@IWorkbenchEditorService editorService: IWorkbenchEditorService, @IGitService gitService: IGitService) {\n\t\tsuper(OpenChangeAction.ID, nls.localize('openChange', \"Open Change\"), 'git-action open-change', gitService);\n\t\tthis.editorService = editorService;\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && !!this.editorService;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tvar statuses = flatten(context, true);\n\n\t\treturn this.gitService.getInput(statuses[0]).then((input) => {\n\t\t\tvar options = new TextDiffEditorOptions();\n\n\t\t\toptions.forceOpen = true;\n\n\t\t\treturn this.editorService.openEditor(input, options);\n\t\t});\n\t}\n}\n\nexport class OpenFileAction extends GitAction {\n\n\tprivate static DELETED_STATES = [Status.BOTH_DELETED, Status.DELETED, Status.DELETED_BY_US, Status.INDEX_DELETED];\n\tstatic ID = 'workbench.action.git.openFile';\n\n\tprotected fileService: IFileService;\n\tprotected editorService: IWorkbenchEditorService;\n\tprotected contextService: IWorkspaceContextService;\n\n\tconstructor(@IWorkbenchEditorService editorService: IWorkbenchEditorService, @IFileService fileService: IFileService, @IGitService gitService: IGitService, @IWorkspaceContextService contextService: IWorkspaceContextService) {\n\t\tsuper(OpenFileAction.ID, nls.localize('openFile', \"Open File\"), 'git-action open-file', gitService);\n\t\tthis.fileService = fileService;\n\t\tthis.editorService = editorService;\n\t\tthis.contextService = contextService;\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && !!this.editorService || !!this.fileService;\n\t}\n\n\tprivate getPath(status: IFileStatus): string {\n\t\tif (status.getStatus() === Status.INDEX_RENAMED) {\n\t\t\treturn status.getRename();\n\t\t} else {\n\t\t\tvar indexStatus = this.gitService.getModel().getStatus().find(status.getPath(), StatusType.INDEX);\n\n\t\t\tif (indexStatus && indexStatus.getStatus() === Status.INDEX_RENAMED) {\n\t\t\t\treturn status.getRename();\n\t\t\t} else {\n\t\t\t\treturn status.getPath();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tvar statuses = flatten(context, true);\n\t\tvar status = statuses[0];\n\n\t\tif (!(status instanceof model.FileStatus)) {\n\t\t\treturn Promise.wrapError(new Error('Can\\'t open file.'));\n\t\t}\n\n\t\tif (OpenFileAction.DELETED_STATES.indexOf(status.getStatus()) > -1) {\n\t\t\treturn Promise.wrapError(new Error('Can\\'t open file which is has been deleted.'));\n\t\t}\n\n\t\tconst resource = URI.file(paths.join(this.gitService.getModel().getRepositoryRoot(), this.getPath(status)));\n\n\t\treturn this.fileService.resolveFile(resource)\n\t\t\t.then(stat => this.editorService.openEditor({\n\t\t\t\tresource: stat.resource,\n\t\t\t\tmime: stat.mime,\n\t\t\t\toptions: { forceOpen: true }\n\t\t\t}));\n\t}\n}\n\nexport class InitAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.init';\n\n\tconstructor(@IGitService gitService: IGitService) {\n\t\tsuper(InitAction.ID, nls.localize('init', \"Init\"), 'git-action init', gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && this.gitService.getState() === ServiceState.NotARepo;\n\t}\n\n\tpublic run():Promise {\n\t\treturn this.gitService.init();\n\t}\n}\n\nexport class RefreshAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.refresh';\n\n\tconstructor(@IGitService gitService: IGitService) {\n\t\tsuper(RefreshAction.ID, nls.localize('refresh', \"Refresh\"), 'git-action refresh', gitService);\n\t}\n\n\tpublic run():Promise {\n\t\treturn this.gitService.status();\n\t}\n}\n\nexport abstract class BaseStageAction extends GitAction {\n\tprivate editorService: IWorkbenchEditorService;\n\n\tconstructor(id: string, label: string, className: string, gitService: IGitService, editorService: IWorkbenchEditorService) {\n\t\tsuper(id, label, className, gitService);\n\t\tthis.editorService = editorService;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tvar flatContext = flatten(context);\n\n\t\treturn this.gitService.add(flatContext).then(status => {\n\t\t\tvar targetEditor = this.findGitWorkingTreeEditor();\n\t\t\tif (!targetEditor) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar currentGitEditorInput = <inputs.IEditorInputWithStatus>(<any>targetEditor.input);\n\t\t\tvar currentFileStatus = currentGitEditorInput.getFileStatus();\n\n\t\t\tif (flatContext && flatContext.every((f) => f !== currentFileStatus)) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar path = currentGitEditorInput.getFileStatus().getPath();\n\t\t\tvar fileStatus = status.getStatus().find(path, StatusType.INDEX);\n\n\t\t\tif (!fileStatus) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar editorControl = <any>targetEditor.getControl();\n\t\t\tvar viewState = editorControl ? editorControl.saveViewState() : null;\n\n\t\t\treturn this.gitService.getInput(fileStatus).then(input => {\n\t\t\t\tvar options = new TextDiffEditorOptions();\n\t\t\t\toptions.forceOpen = true;\n\n\t\t\t\treturn this.editorService.openEditor(input, options, targetEditor.position).then((editor) => {\n\t\t\t\t\tif (viewState) {\n\t\t\t\t\t\teditorControl.restoreViewState(viewState);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn status;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate findGitWorkingTreeEditor(): IEditor {\n\t\tvar editors = this.editorService.getVisibleEditors();\n\t\tfor (var i = 0; i < editors.length; i++) {\n\t\t\tvar editor = editors[i];\n\t\t\tif (inputs.isGitEditorInput(editor.input)) {\n\t\t\t\treturn editor;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.editorService = null;\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class StageAction extends BaseStageAction {\n\tstatic ID = 'workbench.action.git.stage';\n\tstatic LABEL = nls.localize('stageChanges', \"Stage\");\n\n\tconstructor(@IGitService gitService: IGitService, @IWorkbenchEditorService editorService: IWorkbenchEditorService) {\n\t\tsuper(StageAction.ID, StageAction.LABEL, 'git-action stage', gitService, editorService);\n\t}\n}\n\nexport class GlobalStageAction extends BaseStageAction {\n\n\tstatic ID = 'workbench.action.git.stageAll';\n\n\tconstructor(@IGitService gitService: IGitService, @IWorkbenchEditorService editorService: IWorkbenchEditorService) {\n\t\tsuper(GlobalStageAction.ID, nls.localize('stageAllChanges', \"Stage All\"), 'git-action stage', gitService, editorService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length > 0;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\treturn super.run();\n\t}\n}\n\nexport abstract class BaseUndoAction extends GitAction {\n\n\tprivate eventService: IEventService;\n\tprivate editorService: IWorkbenchEditorService;\n\tprivate messageService: IMessageService;\n\tprivate fileService: IFileService;\n\tprivate contextService: IWorkspaceContextService;\n\n\tconstructor(id: string, label: string, className: string, gitService: IGitService, eventService: IEventService, messageService: IMessageService, fileService:IFileService, editorService: IWorkbenchEditorService, contextService: IWorkspaceContextService) {\n\t\tsuper(id, label, className, gitService);\n\t\tthis.eventService = eventService;\n\t\tthis.editorService = editorService;\n\t\tthis.messageService = messageService;\n\t\tthis.fileService = fileService;\n\t\tthis.contextService = contextService;\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && !!this.eventService && !!this.editorService && !!this.fileService;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (!this.messageService.confirm(this.getConfirm(context))) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tvar promises: Promise[] = [];\n\n\t\tif (context instanceof model.StatusGroup) {\n\t\t\tpromises = [ this.gitService.undo() ];\n\n\t\t} else {\n\t\t\tvar all: IFileStatus[] = flatten(context);\n\t\t\tvar toClean: IFileStatus[] = [];\n\t\t\tvar toCheckout: IFileStatus[] = [];\n\n\t\t\tfor (var i = 0; i < all.length; i++) {\n\t\t\t\tvar status = all[i].clone();\n\n\t\t\t\tswitch (status.getStatus()) {\n\t\t\t\t\tcase Status.UNTRACKED:\n\t\t\t\t\tcase Status.IGNORED:\n\t\t\t\t\t\ttoClean.push(status);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttoCheckout.push(status);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (toClean.length > 0) {\n\t\t\t\tpromises.push(this.gitService.clean(toClean));\n\t\t\t}\n\n\t\t\tif (toCheckout.length > 0) {\n\t\t\t\tpromises.push(this.gitService.checkout('', toCheckout));\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.join(promises).then((statuses: IModel[]) => {\n\t\t\tif (statuses.length === 0) {\n\t\t\t\treturn TPromise.as(null);\n\t\t\t}\n\n\t\t\tvar status = statuses[statuses.length - 1];\n\n\t\t\tvar targetEditor = this.findWorkingTreeDiffEditor();\n\t\t\tif (!targetEditor) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar currentGitEditorInput = <inputs.GitWorkingTreeDiffEditorInput> targetEditor.input;\n\t\t\tvar currentFileStatus = currentGitEditorInput.getFileStatus();\n\n\t\t\tif (all && all.every((f) => f !== currentFileStatus)) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar path = currentGitEditorInput.getFileStatus().getPath();\n\n\t\t\tvar editor = <IDiffEditor> targetEditor.getControl();\n\t\t\tvar modifiedEditorControl = editor ? <any>editor.getModifiedEditor() : null;\n\t\t\tvar modifiedViewState = modifiedEditorControl ? modifiedEditorControl.saveViewState() : null;\n\n\t\t\treturn this.fileService.resolveFile(this.contextService.toResource(path)).then((stat: IFileStat) => {\n\t\t\t\treturn this.editorService.openEditor({\n\t\t\t\t\tresource: stat.resource,\n\t\t\t\t\tmime: stat.mime,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tforceOpen: true\n\t\t\t\t\t}\n\t\t\t\t}, targetEditor.position).then((editor) => {\n\t\t\t\t\tif (modifiedViewState) {\n\t\t\t\t\t\tvar codeEditor = <ICodeEditor> targetEditor.getControl();\n\n\t\t\t\t\t\tif (codeEditor) {\n\t\t\t\t\t\t\tcodeEditor.restoreViewState(modifiedViewState);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}).then(null, (errors: any[]): Promise => {\n\t\t\tconsole.error('One or more errors occurred', errors);\n\t\t\treturn Promise.wrapError(errors[0]);\n\t\t});\n\t}\n\n\tprivate findWorkingTreeDiffEditor(): IEditor {\n\t\tvar editors = this.editorService.getVisibleEditors();\n\t\tfor (var i = 0; i < editors.length; i++) {\n\t\t\tvar editor = editors[i];\n\t\t\tif (editor.input instanceof inputs.GitWorkingTreeDiffEditorInput) {\n\t\t\t\treturn editor;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate getConfirm(context: any): IConfirmation {\n\t\tconst all = flatten(context);\n\n\t\tif (all.length > 1) {\n\t\t\tconst count = all.length;\n\n\t\t\treturn {\n\t\t\t\tmessage: nls.localize('confirmUndoMessage', \"Are you sure you want to clean all changes?\"),\n\t\t\t\tdetail: count === 1\n\t\t\t\t\t? nls.localize('confirmUndoAllOne', \"There are unstaged changes in {0} file.\\n\\nThis action is irreversible!\", count)\n\t\t\t\t\t: nls.localize('confirmUndoAllMultiple', \"There are unstaged changes in {0} files.\\n\\nThis action is irreversible!\", count),\n\t\t\t\tprimaryButton: nls.localize({ key: 'cleanChangesLabel', comment: ['&& denotes a mnemonic'] }, \"&&Clean Changes\")\n\t\t\t};\n\t\t}\n\n\t\tconst label = all[0].getPathComponents().reverse()[0];\n\n\t\treturn {\n\t\t\tmessage: nls.localize('confirmUndo', \"Are you sure you want to clean changes in '{0}'?\", label),\n\t\t\tdetail: nls.localize('irreversible', \"This action is irreversible!\"),\n\t\t\tprimaryButton: nls.localize({ key: 'cleanChangesLabel', comment: ['&& denotes a mnemonic'] }, \"&&Clean Changes\")\n\t\t};\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.eventService = null;\n\t\tthis.editorService = null;\n\t\tthis.fileService = null;\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class UndoAction extends BaseUndoAction {\n\tstatic ID = 'workbench.action.git.undo';\n\tconstructor( @IGitService gitService: IGitService, @IEventService eventService: IEventService, @IMessageService messageService: IMessageService, @IFileService fileService: IFileService, @IWorkbenchEditorService editorService: IWorkbenchEditorService, @IWorkspaceContextService contextService: IWorkspaceContextService) {\n\t\tsuper(UndoAction.ID, nls.localize('undoChanges', \"Clean\"), 'git-action undo', gitService, eventService, messageService, fileService, editorService, contextService);\n\t}\n}\n\nexport class GlobalUndoAction extends BaseUndoAction {\n\n\tstatic ID = 'workbench.action.git.undoAll';\n\n\tconstructor(@IGitService gitService: IGitService, @IEventService eventService: IEventService, @IMessageService messageService: IMessageService, @IFileService fileService: IFileService, @IWorkbenchEditorService editorService: IWorkbenchEditorService, @IWorkspaceContextService contextService: IWorkspaceContextService) {\n\t\tsuper(GlobalUndoAction.ID, nls.localize('undoAllChanges', \"Clean All\"), 'git-action undo', gitService, eventService, messageService, fileService, editorService, contextService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length > 0;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\treturn super.run(this.gitService.getModel().getStatus().getWorkingTreeStatus());\n\t}\n}\n\nexport abstract class BaseUnstageAction extends GitAction {\n\n\tprivate editorService: IWorkbenchEditorService;\n\n\tconstructor(id: string, label: string, className: string, gitService: IGitService, editorService: IWorkbenchEditorService) {\n\t\tsuper(id, label, className, gitService);\n\t\tthis.editorService = editorService;\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && !!this.editorService;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tvar flatContext = flatten(context);\n\n\t\treturn this.gitService.revertFiles('HEAD', flatContext).then((status: IModel) => {\n\t\t\tvar targetEditor = this.findGitIndexEditor();\n\t\t\tif (!targetEditor) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar currentGitEditorInput = <inputs.IEditorInputWithStatus>(<any>targetEditor.input);\n\t\t\tvar currentFileStatus = currentGitEditorInput.getFileStatus();\n\n\t\t\tif (flatContext && flatContext.every((f) => f !== currentFileStatus)) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar path = currentGitEditorInput.getFileStatus().getPath();\n\t\t\tvar fileStatus = status.getStatus().find(path, StatusType.WORKING_TREE);\n\n\t\t\tif (!fileStatus) {\n\t\t\t\treturn TPromise.as(status);\n\t\t\t}\n\n\t\t\tvar editorControl = <any> targetEditor.getControl();\n\t\t\tvar viewState = editorControl ? editorControl.saveViewState() : null;\n\n\t\t\treturn this.gitService.getInput(fileStatus).then((input) => {\n\t\t\t\tvar options = new TextDiffEditorOptions();\n\t\t\t\toptions.forceOpen = true;\n\n\t\t\t\treturn this.editorService.openEditor(input, options, targetEditor.position).then((editor) => {\n\t\t\t\t\tif (viewState) {\n\t\t\t\t\t\teditorControl.restoreViewState(viewState);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn status;\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate findGitIndexEditor(): IEditor {\n\t\tvar editors = this.editorService.getVisibleEditors();\n\t\tfor (var i = 0; i < editors.length; i++) {\n\t\t\tvar editor = editors[i];\n\t\t\tif (inputs.isGitEditorInput(editor.input)) {\n\t\t\t\treturn editor;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.editorService = null;\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class UnstageAction extends BaseUnstageAction {\n\tstatic ID = 'workbench.action.git.unstage';\n\n\tconstructor(@IGitService gitService: IGitService, @IWorkbenchEditorService editorService: IWorkbenchEditorService) {\n\t\tsuper(UnstageAction.ID, nls.localize('unstage', \"Unstage\"), 'git-action unstage', gitService, editorService);\n\t}\n}\n\nexport class GlobalUnstageAction extends BaseUnstageAction {\n\n\tstatic ID = 'workbench.action.git.unstageAll';\n\n\tconstructor(@IGitService gitService: IGitService, @IWorkbenchEditorService editorService: IWorkbenchEditorService) {\n\t\tsuper(GlobalUnstageAction.ID, nls.localize('unstageAllChanges', \"Unstage All\"), 'git-action unstage', gitService, editorService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && this.gitService.getModel().getStatus().getIndexStatus().all().length > 0;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\treturn super.run();\n\t}\n}\n\nenum LifecycleState {\n\tAlive,\n\tDisposing,\n\tDisposed\n}\n\nexport class CheckoutAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.checkout';\n\tprivate editorService: IWorkbenchEditorService;\n\tprivate branch: IBranch;\n\tprivate HEAD: IBranch;\n\n\tprivate state: LifecycleState;\n\tprivate runPromises: Promise[];\n\n\tconstructor(branch: IBranch, @IGitService gitService: IGitService, @IWorkbenchEditorService editorService: IWorkbenchEditorService) {\n\t\tsuper(CheckoutAction.ID, branch.name, 'git-action checkout', gitService);\n\n\t\tthis.editorService = editorService;\n\t\tthis.branch = branch;\n\t\tthis.HEAD = null;\n\t\tthis.state = LifecycleState.Alive;\n\t\tthis.runPromises = [];\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected onGitServiceChange(): void {\n\t\tif (this.gitService.getState() === ServiceState.OK) {\n\t\t\tthis.HEAD = this.gitService.getModel().getHEAD();\n\n\t\t\tif (this.HEAD && this.HEAD.name === this.branch.name) {\n\t\t\t\tthis.class = 'git-action checkout HEAD';\n\t\t\t} else {\n\t\t\t\tthis.class = 'git-action checkout';\n\t\t\t}\n\t\t}\n\n\t\tsuper.onGitServiceChange();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && !!this.HEAD;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (this.state !== LifecycleState.Alive) {\n\t\t\treturn Promise.wrapError('action disposed');\n\t\t} else if (this.HEAD && this.HEAD.name === this.branch.name) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tvar result = this.gitService.checkout(this.branch.name).then(null, (err) => {\n\t\t\tif (err.gitErrorCode === GitErrorCodes.DirtyWorkTree) {\n\t\t\t\treturn Promise.wrapError(new Error(nls.localize('dirtyTreeCheckout', \"Can't checkout. Please commit or stage your work first.\")));\n\t\t\t}\n\n\t\t\treturn Promise.wrapError(err);\n\t\t});\n\n\t\tthis.runPromises.push(result);\n\t\tresult.done(() => this.runPromises.splice(this.runPromises.indexOf(result), 1));\n\n\t\treturn result;\n\t}\n\n\tpublic dispose(): void {\n\t\tif (this.state !== LifecycleState.Alive) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = LifecycleState.Disposing;\n\t\tPromise.join(this.runPromises).done(() => this.actuallyDispose());\n\t}\n\n\tprivate actuallyDispose(): void {\n\t\tthis.editorService = null;\n\t\tthis.branch = null;\n\t\tthis.HEAD = null;\n\n\t\tsuper.dispose();\n\n\t\tthis.state = LifecycleState.Disposed;\n\t}\n}\n\nexport class BranchAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.branch';\n\tprivate checkout:boolean;\n\n\tconstructor(checkout: boolean, @IGitService gitService: IGitService) {\n\t\tsuper(BranchAction.ID, nls.localize('branch', \"Branch\"), 'git-action checkout', gitService);\n\t\tthis.checkout = checkout;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (!isString(context)) {\n\t\t\treturn TPromise.as(false);\n\t\t}\n\n\t\treturn this.gitService.branch(<string> context, this.checkout);\n\t}\n}\n\nexport interface ICommitState extends IEventEmitter {\n\tgetCommitMessage():string;\n\tonEmptyCommitMessage():void;\n}\n\nexport abstract class BaseCommitAction extends GitAction {\n\tprotected commitState: ICommitState;\n\n\tconstructor(commitState: ICommitState, id: string, label: string, cssClass: string, gitService: IGitService) {\n\t\tsuper(id, label, cssClass, gitService);\n\n\t\tthis.commitState = commitState;\n\n\t\tthis.toDispose.push(commitState.addListener2('change/commitInputBox', () => {\n\t\t\tthis.updateEnablement();\n\t\t}));\n\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected isEnabled():boolean {\n\t\treturn super.isEnabled() && this.gitService.getModel().getStatus().getIndexStatus().all().length > 0;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (!this.commitState.getCommitMessage()) {\n\t\t\tthis.commitState.onEmptyCommitMessage();\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\treturn this.gitService.commit(this.commitState.getCommitMessage());\n\t}\n}\n\nexport class CommitAction extends BaseCommitAction {\n\n\tstatic ID = 'workbench.action.git.commit';\n\n\tconstructor(commitState: ICommitState, @IGitService gitService: IGitService) {\n\t\tsuper(commitState, CommitAction.ID, nls.localize('commitStaged', \"Commit Staged\"), 'git-action commit', gitService);\n\t}\n\n}\n\nexport class InputCommitAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.input-commit';\n\tstatic LABEL = nls.localize('commit', \"Commit\");\n\n\tconstructor(\n\t\tid = InputCommitAction.ID,\n\t\tlabel = InputCommitAction.LABEL,\n\t\t@IGitService gitService: IGitService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService\n\t) {\n\t\tsuper(id, label, '', gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!this.gitService) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst status = this.gitService.getModel().getStatus();\n\n\t\treturn status.getIndexStatus().all().length > 0 || status.getWorkingTreeStatus().all().length > 0;\n\t}\n\n\trun(): TPromise<any> {\n\t\tif (!this.enabled) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tconst status = this.gitService.getModel().getStatus();\n\n\t\treturn this.quickOpenService.input({ prompt: 'Commit Message' })\n\t\t\t.then(message => message && this.gitService.commit(message, false, status.getIndexStatus().all().length === 0));\n\t}\n}\n\nexport class StageAndCommitAction extends BaseCommitAction {\n\n\tstatic ID = 'workbench.action.git.stageAndCommit';\n\n\tconstructor(commitState: ICommitState, @IGitService gitService: IGitService) {\n\t\tsuper(commitState, StageAndCommitAction.ID, nls.localize('commitAll', \"Commit All\"), 'git-action stage-and-commit', gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!this.gitService) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar status = this.gitService.getModel().getStatus();\n\n\t\treturn status.getIndexStatus().all().length > 0\n\t\t\t|| status.getWorkingTreeStatus().all().length > 0;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (!this.commitState.getCommitMessage()) {\n\t\t\tthis.commitState.onEmptyCommitMessage();\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\treturn this.gitService.commit(this.commitState.getCommitMessage(), false, true);\n\t}\n}\n\nexport class SmartCommitAction extends BaseCommitAction {\n\n\tstatic ID = 'workbench.action.git.commitAll';\n\tprivate static ALL = nls.localize('commitAll2', \"Commit All\");\n\tprivate static STAGED = nls.localize('commitStaged2', \"Commit Staged\");\n\n\tprivate messageService: IMessageService;\n\n\tconstructor(commitState: ICommitState, @IGitService gitService: IGitService, @IMessageService messageService: IMessageService) {\n\t\tsuper(commitState, SmartCommitAction.ID, SmartCommitAction.ALL, 'git-action smart-commit', gitService);\n\t\tthis.messageService = messageService;\n\t\tthis.onGitServiceChange();\n\t}\n\n\tprotected onGitServiceChange(): void {\n\t\tsuper.onGitServiceChange();\n\n\t\tif (!this.enabled) {\n\t\t\tthis.label = SmartCommitAction.ALL;\n\t\t\treturn;\n\t\t}\n\n\t\tvar status = this.gitService.getModel().getStatus();\n\n\t\tif (status.getIndexStatus().all().length > 0) {\n\t\t\tthis.label = SmartCommitAction.STAGED;\n\t\t} else {\n\t\t\tthis.label = SmartCommitAction.ALL;\n\t\t}\n\n\t\tthis.label += ' (' + (platform.isMacintosh ? 'Cmd+Enter' : 'Ctrl+Enter') + ')';\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!this.gitService) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar status = this.gitService.getModel().getStatus();\n\n\t\treturn status.getIndexStatus().all().length > 0\n\t\t\t|| status.getWorkingTreeStatus().all().length > 0;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (!this.commitState.getCommitMessage()) {\n\t\t\tthis.commitState.onEmptyCommitMessage();\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\tvar status = this.gitService.getModel().getStatus();\n\n\t\treturn this.gitService.commit(this.commitState.getCommitMessage(), false, status.getIndexStatus().all().length === 0);\n\t}\n}\n\nexport class PullAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.pull';\n\tstatic LABEL = nls.localize('pull', \"Pull\");\n\n\tconstructor(\n\t\tid = PullAction.ID,\n\t\tlabel = PullAction.LABEL,\n\t\t@IGitService gitService: IGitService\n\t) {\n\t\tsuper(id, label, 'git-action pull', gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!super.isEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar model = this.gitService.getModel();\n\t\tvar HEAD = model.getHEAD();\n\n\t\tif (!HEAD || !HEAD.name || !HEAD.upstream) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\treturn this.pull();\n\t}\n\n\tprotected pull(rebase = false): Promise {\n\t\treturn this.gitService.pull(rebase).then(null, (err) => {\n\t\t\tif (err.gitErrorCode === GitErrorCodes.DirtyWorkTree) {\n\t\t\t\treturn Promise.wrapError(errors.create(nls.localize('dirtyTreePull', \"Can't pull. Please commit or stage your work first.\"), { severity: Severity.Warning }));\n\t\t\t} else if (err.gitErrorCode === GitErrorCodes.AuthenticationFailed) {\n\t\t\t\treturn Promise.wrapError(errors.create(nls.localize('authFailed', \"Authentication failed on the git remote.\")));\n\t\t\t}\n\n\t\t\treturn Promise.wrapError(err);\n\t\t});\n\t}\n}\n\nexport class PullWithRebaseAction extends PullAction {\n\n\tstatic ID = 'workbench.action.git.pull.rebase';\n\tstatic LABEL = nls.localize('pullWithRebase', \"Pull (Rebase)\");\n\n\tconstructor(@IGitService gitService: IGitService) {\n\t\tsuper(PullWithRebaseAction.ID, PullWithRebaseAction.LABEL, gitService);\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\treturn this.pull(true);\n\t}\n}\n\nexport class PushAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.push';\n\tstatic LABEL = nls.localize('push', \"Push\");\n\n\tconstructor(\n\t\tid: string = PushAction.ID,\n\t\tlabel: string = PushAction.LABEL,\n\t\t@IGitService gitService: IGitService\n\t) {\n\t\tsuper(id, label, 'git-action push', gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!super.isEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar model = this.gitService.getModel();\n\t\tvar HEAD = model.getHEAD();\n\n\t\tif (!HEAD || !HEAD.name || !HEAD.upstream) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!HEAD.ahead) { // no commits to pull or push\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\treturn this.gitService.push().then(null, (err) => {\n\t\t\tif (err.gitErrorCode === GitErrorCodes.AuthenticationFailed) {\n\t\t\t\treturn Promise.wrapError(errors.create(nls.localize('authFailed', \"Authentication failed on the git remote.\")));\n\t\t\t}\n\n\t\t\treturn Promise.wrapError(err);\n\t\t});\n\t}\n}\n\nexport class PublishAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.publish';\n\tstatic LABEL = nls.localize('publish', \"Publish\");\n\n\tconstructor(\n\t\tid: string = PublishAction.ID,\n\t\tlabel: string = PublishAction.LABEL,\n\t\t@IGitService gitService: IGitService,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService,\n\t\t@IMessageService private messageService: IMessageService\n\t) {\n\t\tsuper(id, label, 'git-action publish', gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!super.isEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst model = this.gitService.getModel();\n\n\t\tif (model.getRemotes().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst HEAD = model.getHEAD();\n\n\t\tif (!HEAD || !HEAD.name || HEAD.upstream) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tconst model = this.gitService.getModel();\n\t\tconst remotes = model.getRemotes();\n\t\tconst branchName = model.getHEAD().name;\n\t\tlet promise: TPromise<string>;\n\n\t\tif (remotes.length === 1) {\n\t\t\tconst remoteName = remotes[0].name;\n\n\t\t\tconst result = this.messageService.confirm({\n\t\t\t\tmessage: nls.localize('confirmPublishMessage', \"Are you sure you want to publish '{0}' to '{1}'?\", branchName, remoteName),\n\t\t\t\tprimaryButton: nls.localize({ key: 'confirmPublishMessageButton', comment: ['&& denotes a mnemonic'] }, \"&&Publish\")\n\t\t\t});\n\n\t\t\tpromise = TPromise.as(result ? remoteName : null);\n\t\t} else {\n\t\t\tpromise = this.quickOpenService.pick(remotes.map(r => r.name), {\n\t\t\t\tplaceHolder: nls.localize('publishPickMessage', \"Pick a remote to publish the branch '{0}' to:\", branchName)\n\t\t\t});\n\t\t}\n\n\t\treturn promise\n\t\t\t.then(remote => remote && this.gitService.push(remote, branchName, { setUpstream: true }))\n\t\t\t.then(null, err => {\n\t\t\t\tif (err.gitErrorCode === GitErrorCodes.AuthenticationFailed) {\n\t\t\t\t\treturn Promise.wrapError(errors.create(nls.localize('authFailed', \"Authentication failed on the git remote.\")));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.wrapError(err);\n\t\t\t});\n\t}\n}\n\nexport abstract class BaseSyncAction extends GitAction {\n\n\tconstructor(id: string, label: string, className: string, gitService: IGitService) {\n\t\tsuper(id, label, className, gitService);\n\t}\n\n\tprotected isEnabled():boolean {\n\t\tif (!super.isEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.gitService.isIdle()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar model = this.gitService.getModel();\n\t\tvar HEAD = model.getHEAD();\n\n\t\tif (!HEAD || !HEAD.name || !HEAD.upstream) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic run(context?: any):Promise {\n\t\tif (!this.enabled) {\n\t\t\treturn TPromise.as(null);\n\t\t}\n\n\t\treturn this.gitService.sync().then(null, (err) => {\n\t\t\tif (err.gitErrorCode === GitErrorCodes.AuthenticationFailed) {\n\t\t\t\treturn Promise.wrapError(errors.create(nls.localize('authFailed', \"Authentication failed on the git remote.\")));\n\t\t\t}\n\n\t\t\treturn Promise.wrapError(err);\n\t\t});\n\t}\n}\n\nexport class SyncAction extends BaseSyncAction {\n\n\tstatic ID = 'workbench.action.git.sync';\n\tstatic LABEL = nls.localize('sync', \"Sync\");\n\n\tconstructor(id: string, label: string, @IGitService gitService: IGitService) {\n\t\tsuper(id, label, 'git-action sync', gitService);\n\t}\n}\n\nexport class LiveSyncAction extends BaseSyncAction {\n\n\tstatic ID = 'workbench.action.git.liveSync';\n\tstatic CLASS_NAME = 'git-action live-sync';\n\tstatic CLASS_NAME_LOADING = 'git-action live-sync loading';\n\n\tconstructor(@IGitService gitService: IGitService) {\n\t\tsuper(LiveSyncAction.ID, nls.localize('sync', \"Sync\"), LiveSyncAction.CLASS_NAME, gitService);\n\t}\n\n\tprotected onGitServiceChange(): void {\n\t\tsuper.onGitServiceChange();\n\n\t\tif (this.gitService.getRunningOperations().some(op =>\n\t\t\top.id === ServiceOperations.SYNC ||\n\t\t\top.id === ServiceOperations.PULL ||\n\t\t\top.id === ServiceOperations.PUSH))\n\t\t{\n\t\t\tthis.label = '';\n\t\t\tthis.class = LiveSyncAction.CLASS_NAME_LOADING;\n\t\t\tthis.tooltip = nls.localize('synchronizing', \"Synchronizing...\");\n\n\t\t} else {\n\t\t\tthis.class = LiveSyncAction.CLASS_NAME;\n\n\t\t\tvar model = this.gitService.getModel();\n\t\t\tvar HEAD = model.getHEAD();\n\n\t\t\tif (!HEAD) {\n\t\t\t\tthis.label = '';\n\t\t\t\tthis.tooltip = '';\n\n\t\t\t} else if (!HEAD.name) {\n\t\t\t\tthis.label = '';\n\t\t\t\tthis.tooltip = nls.localize('currentlyDetached', \"Can't sync in detached mode.\");\n\n\t\t\t} else if (!HEAD.upstream) {\n\t\t\t\tthis.label = '';\n\t\t\t\tthis.tooltip = nls.localize('noUpstream', \"Current branch '{0} doesn't have an upstream branch configured.\", HEAD.name);\n\n\t\t\t} else if (!HEAD.ahead && !HEAD.behind) {\n\t\t\t\tthis.label = '';\n\t\t\t\tthis.tooltip = nls.localize('currentBranch', \"Current branch '{0}' is up to date.\", HEAD.name);\n\n\t\t\t} else {\n\t\t\t\tthis.label = strings.format('{0} {1}', HEAD.behind, HEAD.ahead);\n\n\t\t\t\tif (model.getStatus().getGroups().some(g => g.all().length > 0)) {\n\t\t\t\t\tthis.tooltip = nls.localize('dirtyChanges', \"Please commit, undo or stash your changes before synchronizing.\");\n\t\t\t\t} else if (HEAD.behind === 1 && HEAD.ahead === 1) {\n\t\t\t\t\tthis.tooltip = nls.localize('currentBranchSingle', \"Current branch '{0}' is {1} commit behind and {2} commit ahead of '{3}'.\", HEAD.name, HEAD.behind, HEAD.ahead, HEAD.upstream);\n\t\t\t\t} else if (HEAD.behind === 1) {\n\t\t\t\t\tthis.tooltip = nls.localize('currentBranchSinglePlural', \"Current branch '{0}' is {1} commit behind and {2} commits ahead of '{3}'.\", HEAD.name, HEAD.behind, HEAD.ahead, HEAD.upstream);\n\t\t\t\t} else if (HEAD.ahead === 1) {\n\t\t\t\t\tthis.tooltip = nls.localize('currentBranchPluralSingle', \"Current branch '{0}' is {1} commits behind and {2} commit ahead of '{3}'.\", HEAD.name, HEAD.behind, HEAD.ahead, HEAD.upstream);\n\t\t\t\t} else {\n\t\t\t\t\tthis.tooltip = nls.localize('currentBranchPlural', \"Current branch '{0}' is {1} commits behind and {2} commits ahead of '{3}'.\", HEAD.name, HEAD.behind, HEAD.ahead, HEAD.upstream);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class UndoLastCommitAction extends GitAction {\n\n\tstatic ID = 'workbench.action.git.undoLastCommit';\n\tstatic LABEL = nls.localize('undoLastCommit', \"Undo Last Commit\");\n\n\tconstructor(\n\t\tid = UndoLastCommitAction.ID,\n\t\tlabel = UndoLastCommitAction.LABEL,\n\t\t@IGitService gitService: IGitService\n\t) {\n\t\tsuper(UndoLastCommitAction.ID, UndoLastCommitAction.LABEL, 'git-action undo-last-commit', gitService);\n\t}\n\n\tpublic run():Promise {\n\t\treturn this.gitService.reset('HEAD~');\n\t}\n}\n\nexport class StartGitCheckoutAction extends Action {\n\n\tpublic static ID = 'workbench.action.git.startGitCheckout';\n\tpublic static LABEL = nls.localize('checkout', \"Checkout\");\n\tprivate quickOpenService: IQuickOpenService;\n\n\tconstructor(id: string, label: string, @IQuickOpenService quickOpenService: IQuickOpenService) {\n\t\tsuper(id, label);\n\t\tthis.quickOpenService = quickOpenService;\n\t}\n\n\tpublic run(event?:any): Promise {\n\t\tthis.quickOpenService.show('git checkout ');\n\t\treturn TPromise.as(null);\n\t}\n}\n\nexport class StartGitBranchAction extends Action {\n\n\tpublic static ID = 'workbench.action.git.startGitBranch';\n\tpublic static LABEL = nls.localize('branch2', \"Branch\");\n\tprivate quickOpenService: IQuickOpenService;\n\n\tconstructor(id: string, label: string, @IQuickOpenService quickOpenService: IQuickOpenService) {\n\t\tsuper(id, label);\n\t\tthis.quickOpenService = quickOpenService;\n\t}\n\n\tpublic run(event?:any): Promise {\n\t\tthis.quickOpenService.show('git branch ');\n\t\treturn TPromise.as(null);\n\t}\n}\n"]}