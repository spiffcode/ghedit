{"version":3,"sources":["vs/workbench/browser/actions/triggerQuickOpen.ts"],"names":[],"mappings":"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","file":"vs/workbench/browser/actions/triggerQuickOpen.js","sourceRoot":"file:///Users/darrin/src/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport nls = require('vs/nls');\nimport {IWorkbenchActionRegistry, Extensions} from 'vs/workbench/common/actionRegistry';\nimport {Registry} from 'vs/platform/platform';\nimport {Action} from 'vs/base/common/actions';\nimport {TPromise} from 'vs/base/common/winjs.base';\nimport {KeybindingsRegistry} from 'vs/platform/keybinding/common/keybindingsRegistry';\nimport {IQuickOpenService} from 'vs/workbench/services/quickopen/common/quickOpenService';\nimport {KbExpr, IKeybindingService, IKeybindings} from 'vs/platform/keybinding/common/keybindingService';\nimport {SyncActionDescriptor} from 'vs/platform/actions/common/actions';\nimport {KeyMod, KeyCode} from 'vs/base/common/keyCodes';\n\n// Trigger Quick Open\nclass GlobalQuickOpenAction extends Action {\n\n\tpublic static ID = 'workbench.action.quickOpen';\n\tpublic static LABEL = nls.localize('quickOpen', \"Go to File...\");\n\n\tconstructor(id: string, label: string, @IQuickOpenService private quickOpenService: IQuickOpenService) {\n\t\tsuper(id, label);\n\n\t\tthis.order = 100; // Allow other actions to position before or after\n\t\tthis.class = 'quickopen';\n\t}\n\n\tpublic run(): TPromise<any> {\n\t\tthis.quickOpenService.show(null);\n\n\t\treturn TPromise.as(true);\n\t}\n}\n\n// Open Previous Editor\nclass OpenPreviousEditorAction extends Action {\n\n\tpublic static ID = 'workbench.action.openPreviousEditor';\n\tpublic static LABEL = nls.localize('navigateEditorHistoryByInput', \"Navigate History\");\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService,\n\t\t@IKeybindingService private keybindingService: IKeybindingService\n\t) {\n\t\tsuper(id, label);\n\t}\n\n\tpublic run(): TPromise<any> {\n\t\tlet keys = this.keybindingService.lookupKeybindings(this.id);\n\n\t\tthis.quickOpenService.show(null, {\n\t\t\tkeybindings: keys\n\t\t});\n\n\t\treturn TPromise.as(true);\n\t}\n}\n\nclass BaseQuickOpenNavigateAction extends Action {\n\tprivate navigateNext: boolean;\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\tnavigateNext: boolean,\n\t\t@IQuickOpenService private quickOpenService: IQuickOpenService,\n\t\t@IKeybindingService private keybindingService: IKeybindingService\n\t) {\n\t\tsuper(id, label);\n\n\t\tthis.navigateNext = navigateNext;\n\t}\n\n\tpublic run(event?: any): TPromise<any> {\n\t\tlet keys = this.keybindingService.lookupKeybindings(this.id);\n\n\t\tthis.quickOpenService.quickNavigate({\n\t\t\tkeybindings: keys\n\t\t}, this.navigateNext);\n\n\t\treturn TPromise.as(true);\n\t}\n}\n\nclass QuickOpenNavigateNextAction extends BaseQuickOpenNavigateAction {\n\n\tpublic static ID = 'workbench.action.quickOpenNavigateNext';\n\tpublic static LABEL = nls.localize('quickNavigateNext', \"Navigate Next in Quick Open\");\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IQuickOpenService quickOpenService: IQuickOpenService,\n\t\t@IKeybindingService keybindingService: IKeybindingService\n\t) {\n\t\tsuper(id, label, true, quickOpenService, keybindingService);\n\t}\n}\n\nclass QuickOpenNavigatePreviousAction extends BaseQuickOpenNavigateAction {\n\n\tpublic static ID = 'workbench.action.quickOpenNavigatePrevious';\n\tpublic static LABEL = nls.localize('quickNavigatePrevious', \"Navigate Previous in Quick Open\");\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IQuickOpenService quickOpenService: IQuickOpenService,\n\t\t@IKeybindingService keybindingService: IKeybindingService\n\t) {\n\t\tsuper(id, label, false, quickOpenService, keybindingService);\n\t}\n}\n\nconst quickOpenKb: IKeybindings = {\n\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_P,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.KEY_E]\n};\n\nconst QUICK_NAVIGATE_KEY = KeyCode.Tab;\n\nconst prevEditorKb: IKeybindings = {\n\tprimary: KeyMod.CtrlCmd | QUICK_NAVIGATE_KEY,\n\tsecondary: [KeyMod.CtrlCmd | KeyMod.Shift | QUICK_NAVIGATE_KEY],\n\tmac: {\n\t\tprimary: KeyMod.WinCtrl | QUICK_NAVIGATE_KEY,\n\t\tsecondary: [KeyMod.WinCtrl | KeyMod.Shift | QUICK_NAVIGATE_KEY]\n\t}\n};\n\nfunction navigateKeybinding(shift: boolean): IKeybindings {\n\tif (shift) {\n\t\treturn {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KEY_P,\n\t\t\tsecondary: [KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KEY_E, KeyMod.CtrlCmd | KeyMod.Shift | QUICK_NAVIGATE_KEY],\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KEY_P,\n\t\t\t\tsecondary: [KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KEY_E, KeyMod.WinCtrl | KeyMod.Shift | QUICK_NAVIGATE_KEY]\n\t\t\t}\n\t\t};\n\t} else {\n\t\treturn {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_P,\n\t\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.KEY_E, KeyMod.CtrlCmd | QUICK_NAVIGATE_KEY],\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KEY_P,\n\t\t\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.KEY_E, KeyMod.WinCtrl | QUICK_NAVIGATE_KEY]\n\t\t\t}\n\t\t};\n\t}\n}\n\n// Contribute Quick Open\nlet registry = <IWorkbenchActionRegistry>Registry.as(Extensions.WorkbenchActions);\nregistry.registerWorkbenchAction(new SyncActionDescriptor(GlobalQuickOpenAction, GlobalQuickOpenAction.ID, GlobalQuickOpenAction.LABEL, quickOpenKb));\n\n// Contribute Quick Navigate\nregistry.registerWorkbenchAction(new SyncActionDescriptor(OpenPreviousEditorAction, OpenPreviousEditorAction.ID, OpenPreviousEditorAction.LABEL, prevEditorKb));\n\n// Contribute Quick Navigate in Quick Open\nregistry.registerWorkbenchAction(new SyncActionDescriptor(QuickOpenNavigateNextAction, QuickOpenNavigateNextAction.ID, QuickOpenNavigateNextAction.LABEL, navigateKeybinding(false), KbExpr.has('inQuickOpen')));\nregistry.registerWorkbenchAction(new SyncActionDescriptor(QuickOpenNavigatePreviousAction, QuickOpenNavigatePreviousAction.ID, QuickOpenNavigatePreviousAction.LABEL, navigateKeybinding(true), KbExpr.has('inQuickOpen'), KeybindingsRegistry.WEIGHT.workbenchContrib(50)));"]}